<<<<<<< HEAD
{"version":3,"file":"public/js/vendor.js","sources":["vendor/scripts/console-polyfill.js","vendor/scripts/android-xpath.js","vendor/scripts/javascript-xpath.js","vendor/scripts/bootstrap.js","node_modules/jade-brunch/runtime.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CCfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CCbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CChwFA;AACA;AACA;AACA;AACA;AACA;AACA;A,CCNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A","sourcesContent":["// Console-polyfill. MIT license.\n// https://github.com/paulmillr/console-polyfill\n// Make it safe to do console.log() always.\n(function(con) {\n  'use strict';\n  var prop, method;\n  var empty = {};\n  var dummy = function() {};\n  var properties = 'memory'.split(',');\n  var methods = ('assert,count,debug,dir,dirxml,error,exception,group,' +\n     'groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,' +\n     'time,timeEnd,trace,warn').split(',');\n  while (prop = properties.pop()) con[prop] = con[prop] || empty;\n  while (method = methods.pop()) con[method] = con[method] || dummy;\n})(this.console = this.console || {});\n","/* Android 2.x claims XPath support, but has none.  Force non-native\n   XPath implementation in this case */\n  if (document.implementation\n      && document.implementation.hasFeature\n      && document.implementation.hasFeature(\"XPath\",null)\n      && !document.evaluate) {\n    window.jsxpath = {\n      targetFrame: undefined,\n      exportInstaller: false,\n      useNative: false, /* force non-native implementation */\n      useInnerText: true\n    };\n  }\n","/*  JavaScript-XPath 0.1.12\n *  (c) 2007 Cybozu Labs, Inc.\n *\n *  JavaScript-XPath is freely distributable under the terms of an MIT-style license.\n *  For details, see the JavaScript-XPath web site: http://coderepos.org/share/wiki/JavaScript-XPath\n *\n/*--------------------------------------------------------------------------*/\n\n\n\n(function () {\n\nvar undefined = void(0);\n\nvar defaultConfig = {\n    targetFrame: undefined,\n    exportInstaller: false,\n    useNative: true,\n    useInnerText: true\n};\n\nvar config;\n\nif (window.jsxpath) {\n    config = window.jsxpath;\n}\nelse {\n    var scriptElms = document.getElementsByTagName('script');\n    var scriptElm = scriptElms[scriptElms.length - 1];\n    var scriptSrc = scriptElm.src;\n    config = {};\n    var scriptSrcMatchResult = scriptSrc.match(/\\?(.*)$/);\n    if (scriptSrcMatchResult) {\n        var configStrings = scriptSrcMatchResult[1].split('&');\n        for (var i = 0, l = configStrings.length; i < l; i ++) {\n            var configString = configStrings[i];\n            var configStringSplited = configString.split('=');\n            var configName = configStringSplited[0];\n            var configValue = configStringSplited[1];\n            if (configValue == undefined) {\n                configValue == true;\n            }\n            else if (configValue == 'false' || /^-?\\d+$/.test(configValue)) {\n                configValue = eval(configValue);\n            }\n            config[configName] = configValue;\n        }\n    }\n}\n\nfor (var n in defaultConfig) {\n    if (!(n in config)) config[n] = defaultConfig[n];\n}\n\nconfig.hasNative = !!(document.implementation\n                        && document.implementation.hasFeature\n                        && document.implementation.hasFeature(\"XPath\", null));\n\nif (config.hasNative && config.useNative && !config.exportInstaller) {\n    return;\n}\n\n\n\nvar BinaryExpr;\nvar FilterExpr;\nvar FunctionCall;\nvar Literal;\nvar NameTest;\nvar NodeSet;\nvar NodeType;\nvar NodeUtil;\nvar Number;\nvar PathExpr;\nvar Step;\nvar UnaryExpr;\nvar UnionExpr;\nvar VariableReference;\n\n/*\n * object: user agent identifier\n */\nvar uai = new function() {\n\n    var ua = navigator.userAgent;\n\n    if (RegExp == undefined) {\n        if (ua.indexOf(\"Opera\") >= 0) {\n            this.opera = true;\n        } else if (ua.indexOf(\"Netscape\") >= 0) {\n            this.netscape = true;\n        } else if (ua.indexOf(\"Mozilla/\") == 0) {\n            this.mozilla = true;\n        } else {\n            this.unknown = true;\n        }\n\n        if (ua.indexOf(\"Gecko/\") >= 0) {\n            this.gecko = true;\n        }\n\n        if (ua.indexOf(\"Win\") >= 0) {\n            this.windows = true;\n        } else if (ua.indexOf(\"Mac\") >= 0) {\n            this.mac = true;\n        } else if (ua.indexOf(\"Linux\") >= 0) {\n            this.linux = true;\n        } else if (ua.indexOf(\"BSD\") >= 0) {\n            this.bsd = true;\n        } else if (ua.indexOf(\"SunOS\") >= 0) {\n            this.sunos = true;\n        }\n    }\n    else {\n\n        /* for Trident/Tasman */\n        /*@cc_on\n        @if (@_jscript)\n            function jscriptVersion() {\n                switch (@_jscript_version) {\n                    case 3.0:  return \"4.0\";\n                    case 5.0:  return \"5.0\";\n                    case 5.1:  return \"5.01\";\n                    case 5.5:  return \"5.5\";\n                    case 5.6:\n                        if (\"XMLHttpRequest\" in window) return \"7.0\";\n                        return \"6.0\";\n                    case 5.7:\n                        return \"7.0\";\n                    default:   return true;\n                }\n            }\n            if (@_win16 || @_win32 || @_win64) {\n                this.windows = true;\n                this.trident = jscriptVersion();\n            } else if (@_mac || navigator.platform.indexOf(\"Mac\") >= 0) {\n                // '@_mac' may be 'NaN' even if the platform is Mac,\n                // so we check 'navigator.platform', too.\n                this.mac = true;\n                this.tasman = jscriptVersion();\n            }\n            if (/MSIE (\\d+\\.\\d+)b?;/.test(ua)) {\n                this.ie = RegExp.$1;\n                this['ie' + RegExp.$1.charAt(0)] = true;\n            }\n        @else @*/\n\n        /* for AppleWebKit */\n        if (/AppleWebKit\\/(\\d+(?:\\.\\d+)*)/.test(ua)) {\n            this.applewebkit = RegExp.$1;\n            if (RegExp.$1.charAt(0) == 4) {\n                this.applewebkit2 = true;\n            }\n            else {\n                this.applewebkit3 = true;\n            }\n        }\n\n        /* for Gecko */\n        else if (typeof Components == \"object\" &&\n                 (/Gecko\\/(\\d{8})/.test(ua) ||\n                  navigator.product == \"Gecko\" && /^(\\d{8})$/.test(navigator.productSub))) {\n            this.gecko = RegExp.$1;\n        }\n\n        /*@end @*/\n\n        if (typeof(opera) == \"object\" && typeof(opera.version) == \"function\") {\n            this.opera = opera.version();\n            this['opera' + this.opera[0] + this.opera[2]] = true;\n        } else if (typeof opera == \"object\"\n                && (/Opera[\\/ ](\\d+\\.\\d+)/.test(ua))) {\n            this.opera = RegExp.$1;\n        } else if (this.ie) {\n        } else if (/Safari\\/(\\d+(?:\\.\\d+)*)/.test(ua)) {\n            this.safari = RegExp.$1;\n        } else if (/NetFront\\/(\\d+(?:\\.\\d+)*)/.test(ua)) {\n            this.netfront = RegExp.$1;\n        } else if (/Konqueror\\/(\\d+(?:\\.\\d+)*)/.test(ua)) {\n            this.konqueror = RegExp.$1;\n        } else if (ua.indexOf(\"(compatible;\") < 0\n                && (/^Mozilla\\/(\\d+\\.\\d+)/.test(ua))) {\n            this.mozilla = RegExp.$1;\n            if (/\\([^(]*rv:(\\d+(?:\\.\\d+)*).*?\\)/.test(ua))\n                this.mozillarv = RegExp.$1;\n            if (/Firefox\\/(\\d+(?:\\.\\d+)*)/.test(ua)) {\n                this.firefox = RegExp.$1;\n            } else if (/Netscape\\d?\\/(\\d+(?:\\.\\d+)*)/.test(ua)) {\n                this.netscape = RegExp.$1;\n            }\n        } else {\n            this.unknown = true;\n        }\n\n        if (ua.indexOf(\"Win 9x 4.90\") >= 0) {\n            this.windows = \"ME\";\n        } else if (/Win(?:dows)? ?(NT ?(\\d+\\.\\d+)?|\\d+|ME|Vista|XP)/.test(ua)) {\n            this.windows = RegExp.$1;\n            if (RegExp.$2) {\n                this.winnt = RegExp.$2;\n            } else switch (RegExp.$1) {\n                case \"2000\":   this.winnt = \"5.0\";  break;\n                case \"XP\":     this.winnt = \"5.1\";  break;\n                case \"Vista\":  this.winnt = \"6.0\";  break;\n            }\n        } else if (ua.indexOf(\"Mac\") >= 0) {\n            this.mac = true;\n        } else if (ua.indexOf(\"Linux\") >= 0) {\n            this.linux = true;\n        } else if (/(\\w*BSD)/.test(ua)) {\n            this.bsd = RegExp.$1;\n        } else if (ua.indexOf(\"SunOS\") >= 0) {\n            this.sunos = true;\n        }\n    }\n};\n\n\n/**\n * pseudo class: Lexer\n */\nvar Lexer = function(source) {\n    var proto = Lexer.prototype;\n    var tokens = source.match(proto.regs.token);\n    for (var i = 0, l = tokens.length; i < l; i ++) {\n        if (proto.regs.strip.test(tokens[i])) {\n            tokens.splice(i, 1);\n        }\n    }\n    for (var n in proto) tokens[n] = proto[n];\n    tokens.index = 0;\n    return tokens;\n};\n\nLexer.prototype.regs = {\n    token: /\\$?(?:(?![0-9-])[\\w-]+:)?(?![0-9-])[\\w-]+|\\/\\/|\\.\\.|::|\\d+(?:\\.\\d*)?|\\.\\d+|\"[^\"]*\"|'[^']*'|[!<>]=|(?![0-9-])[\\w-]+:\\*|\\s+|./g,\n    strip: /^\\s/\n};\n\nLexer.prototype.peek = function(i) {\n    return this[this.index + (i||0)];\n};\nLexer.prototype.next = function() {\n    return this[this.index++];\n};\nLexer.prototype.back = function() {\n    this.index--;\n};\nLexer.prototype.empty = function() {\n    return this.length <= this.index;\n};\n\n\n/**\n * class: Ctx\n */\nvar Ctx = function(node, position, last) {\n    this.node = node;\n    this.position = position || 1;\n    this.last = last || 1;\n};\n\n\n/**\n * abstract class: BaseExpr\n */\nvar BaseExpr = function() {};\n\nBaseExpr.prototype.number = function(ctx) {\n    var exrs = this.evaluate(ctx);\n    if (exrs.isNodeSet) return exrs.number();\n    return + exrs;\n};\n\nBaseExpr.prototype.string = function(ctx) {\n    var exrs = this.evaluate(ctx);\n    if (exrs.isNodeSet) return exrs.string();\n    return '' + exrs;\n};\n\nBaseExpr.prototype.bool = function(ctx) {\n    var exrs = this.evaluate(ctx);\n    if (exrs.isNodeSet) return exrs.bool();\n    return !! exrs;\n};\n\n\n/**\n * abstract class: BaseExprHasPredicates\n */\nvar BaseExprHasPredicates = function() {};\n\nBaseExprHasPredicates.parsePredicates = function(lexer, expr) {\n    while (lexer.peek() == '[') {\n        lexer.next();\n        if (lexer.empty()) {\n            throw Error('missing predicate expr');\n        }\n        var predicate = BinaryExpr.parse(lexer);\n        expr.predicate(predicate);\n        if (lexer.empty()) {\n            throw Error('unclosed predicate expr');\n        }\n        if (lexer.next() != ']') {\n            lexer.back();\n            throw Error('bad token: ' + lexer.next());\n        }\n    }\n};\n\nBaseExprHasPredicates.prototype = new BaseExpr();\n\nBaseExprHasPredicates.prototype.evaluatePredicates = function(nodeset, start) {\n    var predicates, predicate, nodes, node, nodeset, position, reverse;\n\n    reverse = this.reverse;\n    predicates = this.predicates;\n\n    nodeset.sort();\n\n    for (var i = start || 0, l0 = predicates.length; i < l0; i ++) {\n        predicate = predicates[i];\n\n        var deleteIndexes = [];\n        var nodes = nodeset.list();\n\n        for (var j = 0, l1 = nodes.length; j < l1; j ++) {\n\n            position = reverse ? (l1 - j) : (j + 1);\n            exrs = predicate.evaluate(new Ctx(nodes[j], position, l1));\n\n            switch (typeof exrs) {\n                case 'number':\n                    exrs = (position == exrs);\n                    break;\n                case 'string':\n                    exrs = !!exrs;\n                    break;\n                case 'object':\n                    exrs = exrs.bool();\n                    break;\n            }\n\n            if (!exrs) {\n                deleteIndexes.push(j);\n            }\n        }\n\n        for (var j = deleteIndexes.length - 1, l1 = 0; j >= l1; j --) {\n            nodeset.del(deleteIndexes[j]);\n        }\n\n    }\n\n    return nodeset;\n};\n\n\n/**\n * class: BinaryExpr\n */\nif (!window.BinaryExpr && window.defaultConfig)\n    window.BinaryExpr = null;\n\nBinaryExpr = function(op, left, right, datatype) {\n    this.op = op;\n    this.left = left;\n    this.right = right;\n\n    this.datatype = BinaryExpr.ops[op][2];\n\n    this.needContextPosition = left.needContextPosition || right.needContextPosition;\n    this.needContextNode = left.needContextNode || right.needContextNode;\n\n    // Optimize [@id=\"foo\"] and [@name=\"bar\"]\n    if (this.op == '=') {\n        if (!right.needContextNode && !right.needContextPosition && \n            right.datatype != 'nodeset' && right.datatype != 'void' && left.quickAttr) {\n            this.quickAttr = true;\n            this.attrName = left.attrName;\n            this.attrValueExpr = right;\n        }\n        else if (!left.needContextNode && !left.needContextPosition && \n            left.datatype != 'nodeset' && left.datatype != 'void' && right.quickAttr) {\n            this.quickAttr = true;\n            this.attrName = right.attrName;\n            this.attrValueExpr = left;\n        }\n    }\n};\n\nBinaryExpr.compare = function(op, comp, left, right, ctx) {\n    var type, lnodes, rnodes, nodes, nodeset, primitive;\n\n    left = left.evaluate(ctx);\n    right = right.evaluate(ctx);\n\n    if (left.isNodeSet && right.isNodeSet) {\n        lnodes = left.list();\n        rnodes = right.list();\n        for (var i = 0, l0 = lnodes.length; i < l0; i ++)\n            for (var j = 0, l1 = rnodes.length; j < l1; j ++)\n                if (comp(NodeUtil.to('string', lnodes[i]), NodeUtil.to('string', rnodes[j])))\n                    return true;\n        return false;\n    }\n\n    if (left.isNodeSet || right.isNodeSet) {\n        if (left.isNodeSet)\n            nodeset = left, primitive = right;\n        else\n            nodeset = right, primitive = left;\n\n        nodes = nodeset.list();\n        type = typeof primitive;\n        for (var i = 0, l = nodes.length; i < l; i ++) {\n            if (comp(NodeUtil.to(type, nodes[i]), primitive))\n                return true;\n        }\n        return false;\n    }\n\n    if (op == '=' || op == '!=') {\n        if (typeof left == 'boolean' || typeof right == 'boolean') {\n            return comp(!!left, !!right);\n        }\n        if (typeof left == 'number' || typeof right == 'number') {\n            return comp(+left, +right);\n        }\n        return comp(left, right);\n    }\n\n    return comp(+left, +right);\n};\n\n\nBinaryExpr.ops = {\n    'div': [6, function(left, right, ctx) {\n        return left.number(ctx) / right.number(ctx);\n    }, 'number'],\n    'mod': [6, function(left, right, ctx) {\n        return left.number(ctx) % right.number(ctx);\n    }, 'number'],\n    '*': [6, function(left, right, ctx) {\n        return left.number(ctx) * right.number(ctx);\n    }, 'number'],\n    '+': [5, function(left, right, ctx) {\n        return left.number(ctx) + right.number(ctx);\n    }, 'number'],\n    '-': [5, function(left, right, ctx) {\n        return left.number(ctx) - right.number(ctx);\n    }, 'number'],\n    '<': [4, function(left, right, ctx) {\n        return BinaryExpr.compare('<',\n                    function(a, b) { return a < b }, left, right, ctx);\n    }, 'boolean'],\n    '>': [4, function(left, right, ctx) {\n        return BinaryExpr.compare('>',\n                    function(a, b) { return a > b }, left, right, ctx);\n    }, 'boolean'],\n    '<=': [4, function(left, right, ctx) {\n        return BinaryExpr.compare('<=',\n                    function(a, b) { return a <= b }, left, right, ctx);\n    }, 'boolean'],\n    '>=': [4, function(left, right, ctx) {\n        return BinaryExpr.compare('>=',\n                    function(a, b) { return a >= b }, left, right, ctx);\n    }, 'boolean'],\n    '=': [3, function(left, right, ctx) {\n        return BinaryExpr.compare('=',\n                    function(a, b) { return a == b }, left, right, ctx);\n    }, 'boolean'],\n    '!=': [3, function(left, right, ctx) {\n        return BinaryExpr.compare('!=',\n                    function(a, b) { return a != b }, left, right, ctx);\n    }, 'boolean'],\n    'and': [2, function(left, right, ctx) {\n        return left.bool(ctx) && right.bool(ctx);\n    }, 'boolean'],\n    'or': [1, function(left, right, ctx) {\n        return left.bool(ctx) || right.bool(ctx);\n    }, 'boolean']\n};\n\n\nBinaryExpr.parse = function(lexer) {\n    var op, precedence, info, expr, stack = [], index = lexer.index;\n\n    while (true) {\n\n        if (lexer.empty()) {\n            throw Error('missing right expression');\n        }\n        expr = UnaryExpr.parse(lexer);\n\n        op = lexer.next();\n        if (!op) {\n            break;\n        }\n\n        info = this.ops[op];\n        precedence = info && info[0];\n        if (!precedence) {\n            lexer.back();\n            break;\n        }\n\n        while (stack.length && precedence <= this.ops[stack[stack.length-1]][0]) {\n            expr = new BinaryExpr(stack.pop(), stack.pop(), expr);\n        }\n\n        stack.push(expr, op);\n    }\n\n    while (stack.length) {\n        expr = new BinaryExpr(stack.pop(), stack.pop(), expr);\n    }\n\n    return expr;\n};\n\nBinaryExpr.prototype = new BaseExpr();\n\nBinaryExpr.prototype.evaluate = function(ctx) {\n    return BinaryExpr.ops[this.op][1](this.left, this.right, ctx);\n};\n\nBinaryExpr.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'binary: ' + this.op + '\\n';\n    indent += '    ';\n    t += this.left.show(indent);\n    t += this.right.show(indent);\n    return t;\n};\n\n\n/**\n * class: UnaryExpr\n */\nif (!window.UnaryExpr && window.defaultConfig)\n    window.UnaryExpr = null;\n\nUnaryExpr = function(op, expr) {\n    this.op = op;\n    this.expr = expr;\n\n    this.needContextPosition = expr.needContextPosition;\n    this.needContextNode = expr.needContextNode;\n};\n\nUnaryExpr.ops = { '-': 1 };\n\nUnaryExpr.parse = function(lexer) {\n    var token;\n    if (this.ops[lexer.peek()])\n        return new UnaryExpr(lexer.next(), UnaryExpr.parse(lexer));\n    else\n        return UnionExpr.parse(lexer);\n};\n\nUnaryExpr.prototype = new BaseExpr();\n\nUnaryExpr.prototype.datatype = 'number';\n\nUnaryExpr.prototype.evaluate = function(ctx) {\n    return - this.expr.number(ctx);\n};\n\nUnaryExpr.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'unary: ' + this.op + '\\n';\n    indent += '    ';\n    t += this.expr.show(indent);\n    return t;\n};\n\n\n/**\n * class: UnionExpr\n */\nif (!window.UnionExpr && window.defaultConfig)\n    window.UnionExpr = null;\n\nUnionExpr = function() {\n    this.paths = [];\n};\n\nUnionExpr.ops = { '|': 1 };\n\n\nUnionExpr.parse = function(lexer) {\n    var union, expr;\n\n    expr = PathExpr.parse(lexer);\n    if (!this.ops[lexer.peek()])\n        return expr;\n\n    union = new UnionExpr();\n    union.path(expr);\n\n    while (true) {\n        if (!this.ops[lexer.next()]) break;\n        if (lexer.empty()) {\n            throw Error('missing next union location path');\n        }\n        union.path(PathExpr.parse(lexer));\n    }\n\n\n\n    lexer.back();\n    return union;\n};\n\nUnionExpr.prototype = new BaseExpr();\n\nUnionExpr.prototype.datatype = 'nodeset';\n\nUnionExpr.prototype.evaluate = function(ctx) {\n    var paths = this.paths;\n    var nodeset = new NodeSet();\n    for (var i = 0, l = paths.length; i < l; i ++) {\n        var exrs = paths[i].evaluate(ctx);\n        if (!exrs.isNodeSet) throw Error('PathExpr must be nodeset');\n        nodeset.merge(exrs);\n    }\n    return nodeset;\n};\n\nUnionExpr.prototype.path = function(path) {\n    this.paths.push(path);\n\n    if (path.needContextPosition) {\n        this.needContextPosition = true;\n    }\n    if (path.needContextNode) {\n        this.needContextNode = true;\n    }\n}\nUnionExpr.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'union:' + '\\n';\n    indent += '    ';\n    for (var i = 0; i < this.paths.length; i ++) {\n        t += this.paths[i].show(indent);\n    }\n    return t;\n};\n\n\n/**\n * class: PathExpr\n */\nif (!window.PathExpr && window.defaultConfig)\n    window.PathExpr = null;\n\nPathExpr = function(filter) {\n    this.filter = filter;\n    this.steps = [];\n\n    this.datatype = filter.datatype;\n\n    this.needContextPosition = filter.needContextPosition;\n    this.needContextNode = filter.needContextNode;\n};\n\nPathExpr.ops = { '//': 1, '/': 1 };\n\nPathExpr.parse = function(lexer) {\n    var op, expr, path, token;\n\n    if (this.ops[lexer.peek()]) {\n        op = lexer.next();\n        token = lexer.peek();\n\n        if (op == '/' && (lexer.empty() || \n                (token != '.' && token != '..' && token != '@' && token != '*' && \n                !/(?![0-9])[\\w]/.test(token)))) { \n            return FilterExpr.root();\n        }\n\n        path = new PathExpr(FilterExpr.root()); // RootExpr\n\n        if (lexer.empty()) {\n            throw Error('missing next location step');\n        }\n        expr = Step.parse(lexer);\n        path.step(op, expr);\n    }\n    else {\n        expr = FilterExpr.parse(lexer);\n        if (!expr) {\n            expr = Step.parse(lexer);\n            path = new PathExpr(FilterExpr.context());\n            path.step('/', expr);\n        }\n        else if (!this.ops[lexer.peek()])\n            return expr;\n        else\n            path = new PathExpr(expr);\n    }\n\n    while (true) {\n        if (!this.ops[lexer.peek()]) break;\n        op = lexer.next();\n        if (lexer.empty()) {\n            throw Error('missing next location step');\n        }\n        path.step(op, Step.parse(lexer));\n    }\n\n    return path;\n};\n\nPathExpr.prototype = new BaseExpr();\n\nPathExpr.prototype.evaluate = function(ctx) {\n    var nodeset = this.filter.evaluate(ctx);\n    if (!nodeset.isNodeSet) throw Exception('Filter nodeset must be nodeset type');\n\n    var steps = this.steps;\n\n    for (var i = 0, l0 = steps.length; i < l0 && nodeset.length; i ++) {\n        var step = steps[i][1];\n        var reverse = step.reverse;\n        var iter = nodeset.iterator(reverse);\n        var prevNodeset = nodeset;\n        nodeset = null;\n        var node, next;\n        if (!step.needContextPosition && step.axis == 'following') {\n            for (node = iter(); next = iter(); node = next) {\n\n                // Safari 2 node.contains problem\n                if (uai.applewebkit2) {\n                    var contains = false;\n                    var ancestor = next;\n                    do {\n                        if (ancestor == node) {\n                            contains = true;\n                            break;\n                        }\n                    } while (ancestor = ancestor.parentNode);\n                    if (!contains) break;\n                }\n                else {\n                    try { if (!node.contains(next)) break }\n                    catch(e) { if (!(next.compareDocumentPosition(node) & 8)) break }\n                }\n            }\n            nodeset = step.evaluate(new Ctx(node));\n        }\n        else if (!step.needContextPosition && step.axis == 'preceding') {\n            node = iter();\n            nodeset = step.evaluate(new Ctx(node));\n        }\n        else {\n            node = iter();\n            var j = 0;\n            nodeset = step.evaluate(new Ctx(node), false, prevNodeset, j);\n            while (node = iter()) {\n                j ++;\n                nodeset.merge(step.evaluate(new Ctx(node), false, prevNodeset, j));\n            }\n        }\n    }\n\n    return nodeset;\n};\n\nPathExpr.prototype.step = function(op, step) {\n    step.op = op;\n    this.steps.push([op, step]);\n\n    this.quickAttr = false;\n\n    if (this.steps.length == 1) {\n        if (op == '/' && step.axis == 'attribute') {\n            var test = step.test;\n            if (!test.notOnlyElement && test.name != '*') {\n                this.quickAttr = true;\n                this.attrName = test.name;\n            }\n        }\n    }\n};\n\nPathExpr.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'path:' + '\\n';\n    indent += '    ';\n    t += indent + 'filter:' + '\\n';\n    t += this.filter.show(indent + '    ');\n    if (this.steps.length) {\n        t += indent + 'steps:' + '\\n';\n        indent += '    ';\n        for (var i = 0; i < this.steps.length; i ++) {\n            var step = this.steps[i];\n            t += indent + 'operator: ' + step[0] + '\\n';\n            t += step[1].show(indent);\n        }\n    }\n    return t;\n};\n\n\n/**\n * class: FilterExpr\n */\nif (!window.FilterExpr && window.defaultConfig)\n    window.FilterExpr = null;\n\nFilterExpr = function(primary) {\n    this.primary = primary;\n    this.predicates = [];\n\n    this.datatype = primary.datatype;\n\n    this.needContextPosition = primary.needContextPosition;\n\n    this.needContextNode = primary.needContextNode;\n};\n\nFilterExpr.parse = function(lexer) {\n    var expr, filter, token, ch;\n\n    token = lexer.peek();\n    ch = token.charAt(0);\n\n    switch (ch) {\n        case '$':\n            expr = VariableReference.parse(lexer);\n            break;\n\n        case '(':\n            lexer.next();\n            expr = BinaryExpr.parse(lexer);\n            if (lexer.empty()) {\n                throw Error('unclosed \"(\"');\n            }\n            if (lexer.next() != ')') {\n                lexer.back();\n                throw Error('bad token: ' + lexer.next());\n            }\n            break;\n\n        case '\"':\n        case \"'\":\n            expr = Literal.parse(lexer);\n            break;\n\n        default:\n            if (!isNaN(+token)) {\n                expr = Number.parse(lexer);\n            }\n\n            else if (NodeType.types[token]) {\n                return null;\n            }\n\n            else if (/(?![0-9])[\\w]/.test(ch) && lexer.peek(1) == '(') {\n                expr = FunctionCall.parse(lexer);\n            }\n            else {\n                return null;\n            }\n            break;\n    }\n\n    if (lexer.peek() != '[') return expr;\n\n    filter = new FilterExpr(expr);\n\n    BaseExprHasPredicates.parsePredicates(lexer, filter);\n\n    return filter;\n};\n\nFilterExpr.root = function() {\n    return new FunctionCall('root-node');\n};\nFilterExpr.context = function() {\n    return new FunctionCall('context-node');\n};\n\nFilterExpr.prototype = new BaseExprHasPredicates();\n\nFilterExpr.prototype.evaluate = function(ctx) {\n    var nodeset = this.primary.evaluate(ctx);\n    if(!nodeset.isNodeSet) {\n        if (this.predicates.length)\n            throw Error(\n                'Primary result must be nodeset type ' +\n                'if filter have predicate expression');\n        return nodeset;\n    }\n\n    return  this.evaluatePredicates(nodeset);\n};\n\nFilterExpr.prototype.predicate = function(predicate) {\n    this.predicates.push(predicate);\n};\n\nFilterExpr.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'filter: ' + '\\n';\n    indent += '    ';\n    t += this.primary.show(indent);\n    if (this.predicates.length) {\n        t += indent + 'predicates: ' + '\\n';\n        indent += '    ';\n        for (var i = 0; i < this.predicates.length; i ++) {\n            t += this.predicates[i].show(indent);\n        }\n    }\n    return t;\n};\n\n\nif (!window.NodeUtil && window.defaultConfig)\n    window.NodeUtil = null;\n\nNodeUtil = {\n    to: function(valueType, node) {\n        var t, type = node.nodeType;\n        // Safari2: innerText contains some bugs\n        if (type == 1 && config.useInnerText && !uai.applewebkit2) {\n            t = node.textContent;\n            t = (t == undefined || t == null) ? node.innerText : t;\n            t = (t == undefined || t == null) ? '' : t;\n        }\n        if (typeof t != 'string') {\n/*@cc_on\n            if (type == 1 && node.nodeName.toLowerCase() == 'title') {\n                t = node.text;\n            }\n            else\n@*/\n            if (type == 9 || type == 1) {\n                if (type == 9) {\n                    node =  node.documentElement;\n                }\n                else {\n                    node = node.firstChild;\n                }\n                for (t = '', stack = [], i = 0; node;) {\n                    do {\n                        if (node.nodeType != 1) {\n                            t += node.nodeValue;\n                        }\n/*@cc_on\n                        else if (node.nodeName.toLowerCase() == 'title') {\n                            t += node.text;\n                        }\n@*/\n                        stack[i++] = node; // push\n                    } while (node = node.firstChild);\n                    while (i && !(node = stack[--i].nextSibling)) {}\n                }\n            }\n            else {\n                t = node.nodeValue;\n            }\n        }\n        switch (valueType) {\n            case 'number':\n                return + t;\n            case 'boolean':\n                return !! t;\n            default:\n                return t;\n        }\n    },\n    attrPropMap: {\n        name: 'name',\n        'class': 'className',\n        dir: 'dir',\n        id: 'id',\n        name: 'name',\n        title: 'title'\n    },\n    attrMatch: function(node, attrName, attrValue) {\n/*@cc_on @if (@_jscript)\n        var propName = NodeUtil.attrPropMap[attrName];\n        if (!attrName ||\n            attrValue == null && (\n                propName && node[propName] ||\n                !propName && node.getAttribute && node.getAttribute(attrName, 2)\n            ) ||\n            attrValue != null && (\n                propName && node[propName] == attrValue ||\n                !propName && node.getAttribute && node.getAttribute(attrName, 2) == attrValue\n            )) {\n@else @*/\n        if (!attrName ||\n            attrValue == null && node.hasAttribute && node.hasAttribute(attrName) ||\n            attrValue != null && node.getAttribute && node.getAttribute(attrName) == attrValue) {\n/*@end @*/\n            return true;\n        }\n        else {\n            return false;\n        }\n    },\n    getDescendantNodes: function(test, node, nodeset, attrName, attrValue, prevNodeset, prevIndex) {\n        if (prevNodeset) {\n            prevNodeset.delDescendant(node, prevIndex);\n        }\n/*@cc_on\n        try {\n            if (!test.notOnlyElement || test.type == 8 || (attrName && test.type == 0)) {\n\n                var all = node.all;\n                if (!all) {\n                    return nodeset;\n                }\n\n                var name = test.name;\n                if (test.type == 8) name = '!';\n                else if (test.type == 0) name = '*';\n\n                if (name != '*') {\n                    all = all.tags(name);\n                    if (!all) {\n                        return nodeset;\n                    }\n                }\n\n                if (attrName) {\n                    var result = []\n                    var i = 0;\n                    if (attrValue != null && (attrName == 'id' || attrName == 'name')) {\n                        all = all[attrValue];\n                        if (!all) {\n                            return nodeset;\n                        }\n                        if (!all.length || all.nodeType) {\n                            all = [all];\n                        }\n                    }\n        \n                    while (node = all[i++]) {\n                        if (NodeUtil.attrMatch(node, attrName, attrValue)) result.push(node);\n                    }\n\n                    all = result;\n                }\n\n                var i = 0;\n                while (node = all[i++]) {\n                    if (name != '*' || node.tagName != '!') {\n                        nodeset.push(node);\n                    }\n                }\n\n                return nodeset;\n            }\n\n            (function (parent) {\n                var g = arguments.callee;\n                var node = parent.firstChild;\n                if (node) {\n                    for (; node; node = node.nextSibling) {\n                        if (NodeUtil.attrMatch(node, attrName, attrValue)) {\n                            if (test.match(node)) nodeset.push(node);\n                        }\n                        g(node);\n                    }\n                }\n            })(node);\n\n            return nodeset;\n        }\n        catch(e) {\n@*/\n        if (attrValue && attrName == 'id' && node.getElementById) {\n            node = node.getElementById(attrValue);\n            if (node && test.match(node)) {\n                nodeset.push(node);\n            }\n        }\n        else if (attrValue && attrName == 'name' && node.getElementsByName) {\n            var nodes = node.getElementsByName(attrValue);\n            for (var i = 0, l = nodes.length; i < l; i ++) {\n                node = nodes[i];\n                if (uai.opera ? (node.name == attrValue && test.match(node)) : test.match(node)) {\n                    nodeset.push(node);\n                }\n            }\n        }\n        else if (attrValue && attrName == 'class' && node.getElementsByClassName) {\n            var nodes = node.getElementsByClassName(attrValue);\n            for (var i = 0, l = nodes.length; i < l; i ++) {\n                node = nodes[i];\n                if (node.className == attrValue && test.match(node)) {\n                    nodeset.push(node);\n                }\n            }\n        }\n        else if (test.notOnlyElement) {\n            (function (parent) {\n                var f = arguments.callee;\n                for (var node = parent.firstChild; node; node = node.nextSibling) {\n                    if (NodeUtil.attrMatch(node, attrName, attrValue)) {\n                        if (test.match(node.nodeType)) nodeset.push(node);\n                    }\n                    f(node);\n                }\n            })(node);\n        }\n        else {\n            var name = test.name;\n            if (node.getElementsByTagName) {\n                var nodes = node.getElementsByTagName(name);\n                if (nodes) {\n                    var i = 0;\n                    while (node = nodes[i++]) {\n                        if (NodeUtil.attrMatch(node, attrName, attrValue)) nodeset.push(node);\n                    }\n                }\n            }\n        }\n        return nodeset;\n/*@cc_on\n        }\n@*/\n    },\n\n    getChildNodes: function(test, node, nodeset, attrName, attrValue) {\n\n/*@cc_on\n        try {\n            var children;\n\n            if ((!test.notOnlyElement || test.type == 8 || (attrName && test.type == 0)) && (children = node.children)) {\n                var name, elm;\n\n                name = test.name;\n                if (test.type == 8) name = '!';\n                else if (test.type == 0) name = '*';\n\n                if (name != '*') {\n                    children = children.tags(name);\n                    if (!children) {\n                        return nodeset;\n                    }\n                }\n\n                if (attrName) {\n                    var result = []\n                    var i = 0;\n                    if (attrName == 'id' || attrName == 'name') {\n                        children = children[attrValue];\n        \n                        if (!children) {\n                            return nodeset;\n                        }\n        \n                        if (!children.length || children.nodeType) {\n                            children = [children];\n                        }\n                    }\n        \n                    while (node = children[i++]) {\n                        if (NodeUtil.attrMatch(node, attrName, attrValue)) result.push(node);\n                    }\n                    children = result;\n                }\n\n                var i = 0;\n                while (node = children[i++]) {\n                    if (name != '*' || node.tagName != '!') {\n                        nodeset.push(node);\n                    }\n                }\n\n                return nodeset;\n            }\n\n            for (var i = 0, node = node.firstChild; node; i++, node = node.nextSibling) {\n                if (NodeUtil.attrMatch(node, attrName, attrValue)) {\n                    if (test.match(node)) nodeset.push(node);\n                }\n            }\n\n            return nodeset;\n        } catch(e) {\n@*/\n        for (var node = node.firstChild; node; node = node.nextSibling) {\n            if (NodeUtil.attrMatch(node, attrName, attrValue)) {\n                if (test.match(node)) nodeset.push(node);\n            }\n        }\n        return nodeset;\n/*@cc_on\n        }\n@*/\n    }\n};\n\n/*@cc_on\nvar AttributeWrapper = function(node, parent, sourceIndex) {\n    this.node = node;\n    this.nodeType = 2;\n    this.nodeValue = node.nodeValue;\n    this.nodeName = node.nodeName;\n    this.parentNode = parent;\n    this.ownerElement = parent;\n    this.parentSourceIndex = sourceIndex;\n};\n\n@*/\n\n\n/**\n * class: Step\n */\nif (!window.Step && window.defaultConfig)\n    window.Step = null;\n\nStep = function(axis, test) {\n    // TODO check arguments and throw axis error\n    this.axis = axis;\n    this.reverse = Step.axises[axis][0];\n    this.func = Step.axises[axis][1];\n    this.test = test;\n    this.predicates = [];\n    this._quickAttr = Step.axises[axis][2]\n};\n\nStep.axises = {\n\n    ancestor: [true, function(test, node, nodeset, _, __, prevNodeset, prevIndex) {\n        while (node = node.parentNode) {\n            if (prevNodeset && node.nodeType == 1) {\n                prevNodeset.reserveDelByNode(node, prevIndex, true);\n            }\n            if (test.match(node)) nodeset.unshift(node);\n        }\n        return nodeset;\n    }],\n\n    'ancestor-or-self': [true, function(test, node, nodeset, _, __, prevNodeset, prevIndex) {\n        do {\n            if (prevNodeset && node.nodeType == 1) {\n                prevNodeset.reserveDelByNode(node, prevIndex, true);\n            }\n            if (test.match(node)) nodeset.unshift(node);\n        } while (node = node.parentNode)\n        return nodeset;\n    }],\n\n    attribute: [false, function(test, node, nodeset) {\n        var attrs = node.attributes;\n        if (attrs) {\n/*@cc_on\n            var sourceIndex = node.sourceIndex;\n@*/\n            if ((test.notOnlyElement && test.type == 0) || test.name == '*') {\n                for (var i = 0, attr; attr = attrs[i]; i ++) {\n/*@cc_on @if (@_jscript)\n                    if (attr.nodeValue) {\n                        nodeset.push(new AttributeWrapper(attr, node, sourceIndex));\n                    }\n@else @*/\n                    nodeset.push(attr);\n/*@end @*/\n                }\n            }\n            else {\n                var attr = attrs.getNamedItem(test.name);\n                \n/*@cc_on @if (@_jscript)\n                if (attr && attr.nodeValue) {\n                    attr = new AttributeWrapper(attr, node, sourceIndex);;\n@else @*/\n                if (attr) {\n/*@end @*/\n                    nodeset.push(attr);\n                }\n            }\n        }\n        return nodeset;\n    }],\n\n    child: [false, NodeUtil.getChildNodes, true],\n\n    descendant: [false, NodeUtil.getDescendantNodes, true],\n\n    'descendant-or-self': [false, function(test, node, nodeset, attrName, attrValue, prevNodeset, prevIndex) {\n        if (NodeUtil.attrMatch(node, attrName, attrValue)) {\n            if (test.match(node)) nodeset.push(node);\n        }\n        return NodeUtil.getDescendantNodes(test, node, nodeset, attrName, attrValue, prevNodeset, prevIndex);\n    }, true],\n\n    following: [false, function(test, node, nodeset, attrName, attrValue) {\n        do {\n            var child = node;\n            while (child = child.nextSibling) {\n                if (NodeUtil.attrMatch(child, attrName, attrValue)) {\n                    if (test.match(child)) nodeset.push(child);\n                }\n                nodeset = NodeUtil.getDescendantNodes(test, child, nodeset, attrName, attrValue);\n            }\n        } while (node = node.parentNode);\n        return nodeset;\n    }, true],\n\n    'following-sibling': [false, function(test, node, nodeset, _, __, prevNodeset, prevIndex) {\n        while (node = node.nextSibling) {\n\n            if (prevNodeset && node.nodeType == 1) {\n                prevNodeset.reserveDelByNode(node, prevIndex);\n            }\n\n            if (test.match(node)) {\n                nodeset.push(node);\n            }\n        }\n        return nodeset;\n    }],\n\n    namespace: [false, function(test, node, nodeset) {\n        // not implemented\n        return nodeset;\n    }],\n\n    parent: [false, function(test, node, nodeset) {\n        if (node.nodeType == 9) {\n            return nodeset;\n        }\n        if (node.nodeType == 2) {\n            nodeset.push(node.ownerElement);\n            return nodeset;\n        }\n        var node = node.parentNode;\n        if (test.match(node)) nodeset.push(node);\n        return nodeset;\n    }],\n\n    preceding: [true, function(test, node, nodeset, attrName, attrValue) {\n        var parents = [];\n        do {\n            parents.unshift(node);\n        } while (node = node.parentNode);\n\n        for (var i = 1, l0 = parents.length; i < l0; i ++) {\n            var siblings = [];\n            node = parents[i];\n            while (node = node.previousSibling) {\n                siblings.unshift(node);\n            }\n\n            for (var j = 0, l1 = siblings.length; j < l1; j ++) {\n                node = siblings[j];\n                if (NodeUtil.attrMatch(node, attrName, attrValue)) {\n                    if (test.match(node)) nodeset.push(node);\n                }\n                nodeset = NodeUtil.getDescendantNodes(test, node, nodeset, attrName, attrValue);\n            }\n        }\n        return nodeset;\n    }, true],\n\n    'preceding-sibling': [true, function(test, node, nodeset, _, __, prevNodeset, prevIndex) {\n        while (node = node.previousSibling) {\n\n            if (prevNodeset && node.nodeType == 1) {\n                prevNodeset.reserveDelByNode(node, prevIndex, true);\n            }\n\n            if (test.match(node)) {\n                nodeset.unshift(node)\n            }\n        }\n        return nodeset;\n    }],\n\n    self: [false, function(test, node, nodeset) {\n        if (test.match(node)) nodeset.push(node);\n        return nodeset;\n    }]\n};\n\nStep.parse = function(lexer) {\n    var axis, test, step, token;\n\n    if (lexer.peek() == '.') {\n        step = this.self();\n        lexer.next();\n    }\n    else if (lexer.peek() == '..') {\n        step = this.parent();\n        lexer.next();\n    }\n    else {\n        if (lexer.peek() == '@') {\n            axis = 'attribute';\n            lexer.next();\n            if (lexer.empty()) {\n                throw Error('missing attribute name');\n            }\n        }\n        else {\n            if (lexer.peek(1) == '::') {\n                \n                if (!/(?![0-9])[\\w]/.test(lexer.peek().charAt(0))) {\n                    throw Error('bad token: ' + lexer.next());\n                }\n        \n                axis = lexer.next();\n                lexer.next();\n\n                if (!this.axises[axis]) {\n                    throw Error('invalid axis: ' + axis);\n                }\n                if (lexer.empty()) {\n                    throw Error('missing node name');\n                }\n            }\n            else {\n                axis = 'child';\n            }\n        }\n    \n        token = lexer.peek();\n        if (!/(?![0-9])[\\w]/.test(token.charAt(0))) {\n            if (token == '*') {\n                test = NameTest.parse(lexer)\n            }\n            else {\n                throw Error('bad token: ' + lexer.next());\n            }\n        }\n        else {\n            if (lexer.peek(1) == '(') {\n                if (!NodeType.types[token]) {\n                    throw Error('invalid node type: ' + token);\n                }\n                test = NodeType.parse(lexer)\n            }\n            else {\n                test = NameTest.parse(lexer);\n            }\n        }\n        step = new Step(axis, test);\n    }\n\n    BaseExprHasPredicates.parsePredicates(lexer, step);\n\n    return step;\n};\n\nStep.self = function() {\n    return new Step('self', new NodeType('node'));\n};\n\nStep.parent = function() {\n    return new Step('parent', new NodeType('node'));\n};\n\nStep.prototype = new BaseExprHasPredicates();\n\nStep.prototype.evaluate = function(ctx, special, prevNodeset, prevIndex) {\n    var node = ctx.node;\n    var reverse = false;\n\n    if (!special && this.op == '//') {\n\n        if (!this.needContextPosition && this.axis == 'child') {\n            if (this.quickAttr) {\n                var attrValue = this.attrValueExpr ? this.attrValueExpr.string(ctx) : null;\n                var nodeset = NodeUtil.getDescendantNodes(this.test, node, new NodeSet(), this.attrName, attrValue, prevNodeset, prevIndex);\n                nodeset = this.evaluatePredicates(nodeset, 1);\n            }\n            else {\n                var nodeset = NodeUtil.getDescendantNodes(this.test, node, new NodeSet(), null, null, prevNodeset, prevIndex);\n                nodeset = this.evaluatePredicates(nodeset);\n            }\n        }\n        else {\n            var step = new Step('descendant-or-self', new NodeType('node'));\n            var nodes = step.evaluate(ctx, false, prevNodeset, prevIndex).list();\n            var nodeset = null;\n            step.op = '/';\n            for (var i = 0, l = nodes.length; i < l; i ++) {\n                if (!nodeset) {\n                    nodeset = this.evaluate(new Ctx(nodes[i]), true);\n                }\n                else {\n                    nodeset.merge(this.evaluate(new Ctx(nodes[i]), true));\n                }\n            }\n            nodeset = nodeset || new NodeSet();\n        }\n    }\n    else {\n\n        if (this.needContextPosition) {\n            prevNodeset = null;\n            prevIndex = null;\n        }\n\n        if (this.quickAttr) {\n            var attrValue = this.attrValueExpr ? this.attrValueExpr.string(ctx) : null;\n            var nodeset = this.func(this.test, node, new NodeSet(), this.attrName, attrValue, prevNodeset, prevIndex);\n            nodeset = this.evaluatePredicates(nodeset, 1);\n        }\n        else {\n            var nodeset = this.func(this.test, node, new NodeSet(), null, null, prevNodeset, prevIndex);\n            nodeset = this.evaluatePredicates(nodeset);\n        }\n        if (prevNodeset) {\n            prevNodeset.doDel();\n        }\n    }\n    return nodeset;\n};\n\nStep.prototype.predicate = function(predicate) {\n    this.predicates.push(predicate);\n\n    if (predicate.needContextPosition ||\n        predicate.datatype == 'number'||\n        predicate.datatype == 'void') {\n        this.needContextPosition = true;\n    }\n\n    if (this._quickAttr && this.predicates.length == 1 && predicate.quickAttr) {\n        var attrName = predicate.attrName;\n/*@cc_on @if (@_jscript)\n        this.attrName = attrName.toLowerCase();\n@else @*/\n        this.attrName = attrName;\n/*@end @*/\n        this.attrValueExpr = predicate.attrValueExpr;\n        this.quickAttr = true;\n    }\n};\n\nStep.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'step: ' + '\\n';\n    indent += '    ';\n    if (this.axis) t += indent + 'axis: ' + this.axis + '\\n';\n    t += this.test.show(indent);\n    if (this.predicates.length) {\n        t += indent + 'predicates: ' + '\\n';\n        indent += '    ';\n        for (var i = 0; i < this.predicates.length; i ++) {\n            t += this.predicates[i].show(indent);\n        }\n    }\n    return t;\n};\n\n\n\n/**\n * NodeType\n */\nif (!window.NodeType && window.defaultConfig)\n    window.NodeType = null;\n    \nNodeType = function(name, literal) {\n    this.name = name;\n    this.literal = literal;\n\n    switch (name) {\n        case 'comment':\n            this.type = 8;\n            break;\n        case 'text':\n            this.type = 3;\n            break;\n        case 'processing-instruction':\n            this.type = 7;\n            break;\n        case 'node':\n            this.type = 0;\n            break;\n    }\n};\n\nNodeType.types = {\n    'comment':1, 'text':1, 'processing-instruction':1, 'node':1\n};\n\nNodeType.parse = function(lexer) {\n    var type, literal, ch;\n    type = lexer.next();\n    lexer.next();\n    if (lexer.empty()) {\n        throw Error('bad nodetype');\n    }\n    ch = lexer.peek().charAt(0);\n    if (ch == '\"' || ch == \"'\") {\n        literal = Literal.parse(lexer);\n    }\n    if (lexer.empty()) {\n        throw Error('bad nodetype');\n    }\n    if (lexer.next() != ')') {\n        lexer.back();\n        throw Error('bad token ' + lexer.next());\n    }\n    return new NodeType(type, literal);\n};\n\nNodeType.prototype = new BaseExpr();\n\nNodeType.prototype.notOnlyElement = true;\n\nNodeType.prototype.match = function(node) {\n    return !this.type || this.type == node.nodeType;\n};\n\nNodeType.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'nodetype: ' + this.type + '\\n';\n    if (this.literal) {\n        indent += '    ';\n        t += this.literal.show(indent);\n    }\n    return t;\n};\n\n\n/**\n * NodeType\n */\nif (!window.NameTest && window.defaultConfig)\n    window.NameTest = null;\n\nNameTest = function(name) {\n    this.name = name.toLowerCase();\n};\n\nNameTest.parse = function(lexer) {\n    if (lexer.peek() != '*' &&  lexer.peek(1) == ':' && lexer.peek(2) == '*') {\n        return new NameTest(lexer.next() + lexer.next() + lexer.next());\n    }\n    return new NameTest(lexer.next());\n};\n\nNameTest.prototype = new BaseExpr();\n\nNameTest.prototype.match = function(node) {\n    var type = node.nodeType;\n\n    if (type == 1 || type == 2) {\n        if (this.name == '*' || this.name == node.nodeName.toLowerCase()) {\n            return true;\n        }\n    }\n    return false;\n};\n\nNameTest.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'nametest: ' + this.name + '\\n';\n    return t;\n};\n\n\n/**\n * class: VariableRefernce\n */\nif (!window.VariableReference && window.defaultConfig)\n    window.VariableReference = null;\n    \nVariableReference = function(name) {\n    this.name = name.substring(1);\n};\n\n\nVariableReference.parse = function(lexer) {\n    var token = lexer.next();\n    if (token.length < 2) {\n        throw Error('unnamed variable reference');\n    }\n    return new VariableReference(token)\n};\n\nVariableReference.prototype = new BaseExpr();\n\nVariableReference.prototype.datatype = 'void';\n\nVariableReference.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'variable: ' + this.name + '\\n';\n    return t;\n};\n\n\n/**\n * class: Literal\n */\nif (!window.Literal && window.defaultConfig)\n    window.Literal = null;\n\nLiteral = function(text) {\n    this.text = text.substring(1, text.length - 1);\n};\n\nLiteral.parse = function(lexer) {\n    var token = lexer.next();\n    if (token.length < 2) {\n        throw Error('unclosed literal string');\n    }\n    return new Literal(token)\n};\n\nLiteral.prototype = new BaseExpr();\n\nLiteral.prototype.datatype = 'string';\n\nLiteral.prototype.evaluate = function(ctx) {\n    return this.text;\n};\n\nLiteral.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'literal: ' + this.text + '\\n';\n    return t;\n};\n\n\n/**\n * class: Number\n */\nif (!window.Number && window.defaultConfig)\n    window.Number = null;\n\nNumber = function(digit) {\n    this.digit = +digit;\n};\n\n\nNumber.parse = function(lexer) {\n    return new Number(lexer.next());\n};\n\nNumber.prototype = new BaseExpr();\n\nNumber.prototype.datatype = 'number';\n\nNumber.prototype.evaluate = function(ctx) {\n    return this.digit;\n};\n\nNumber.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'number: ' + this.digit + '\\n';\n    return t;\n};\n\n\n/**\n * class: FunctionCall\n */\nif (!window.FunctionCall && window.defaultConfig)\n    window.FunctionCall = null;\n\nFunctionCall = function(name) {\n    var info = FunctionCall.funcs[name];\n    if (!info)\n        throw Error(name +' is not a function');\n\n    this.name = name;\n    this.func = info[0];\n    this.args = [];\n\n    this.datatype = info[1];\n\n    if (info[2]) {\n        this.needContextPosition = true;\n    }\n\n    this.needContextNodeInfo = info[3];\n    this.needContextNode = this.needContextNodeInfo[0]\n};\n\nFunctionCall.funcs = {\n\n    // Original Function\n    'context-node': [function() {\n        if (arguments.length != 0) {\n            throw Error('Function context-node expects ()');\n        }\n        var ns;\n        ns = new NodeSet();\n        ns.push(this.node);\n        return ns;\n    }, 'nodeset', false, [true]],\n\n    // Original Function\n    'root-node': [function() {\n        if (arguments.length != 0) {\n            throw Error('Function root-node expects ()');\n        }\n        var ns, ctxn;\n        ns = new NodeSet();\n        ctxn = this.node;\n        if (ctxn.nodeType == 9)\n            ns.push(ctxn);\n        else\n            ns.push(ctxn.ownerDocument);\n        return ns;\n    }, 'nodeset', false, []],\n\n    last: [function() {\n        if (arguments.length != 0) {\n            throw Error('Function last expects ()');\n        }\n        return this.last;\n    }, 'number', true, []],\n\n    position: [function() {\n        if (arguments.length != 0) {\n            throw Error('Function position expects ()');\n        }\n        return this.position;\n    }, 'number', true, []],\n\n    count: [function(ns) {\n        if (arguments.length != 1 || !(ns = ns.evaluate(this)).isNodeSet) {\n            throw Error('Function count expects (nodeset)');\n        }\n        return ns.length;\n    }, 'number', false, []],\n\n    id: [function(s) {\n        var ids, ns, i, id, elm, ctxn, doc;\n        if (arguments.length != 1) {\n            throw Error('Function id expects (object)');\n        }\n        ctxn = this.node;\n        if (ctxn.nodeType == 9)\n            doc = ctxn;\n        else\n            doc = ctxn.ownerDocument;\n/*@cc_on\n        all = doc.all;\n@*/\n        s = s.string(this);\n        ids = s.split(/\\s+/);\n        ns = new NodeSet();\n        for (i = 0, l = ids.length; i < l; i ++) {\n            id = ids[i];\n\n/*@cc_on @if (@_jscript)\n            elm = all[id];\n            if (elm) {\n                if ((!elm.length || elm.nodeType) && id == elm.id) {\n                    ns.push(elm)\n                }\n                else if (elm.length) {\n                    var elms = elm;\n                    for (var j = 0, l0 = elms.length; j < l0; j ++) {\n                        var elem = elms[j];\n                        if (id == elem.id) {\n                            ns.push(elem);\n                            break;\n                        }\n                    }\n                }\n            }\n@else @*/\n            elm = doc.getElementById(id);\n            if (uai.opera && elm && elm.id != id) {\n                var elms = doc.getElementsByName(id);\n                for (var j = 0, l0 = elms.length; j < l0; j ++) {\n                    elm = elms[j];\n                    if (elm.id == id) {\n                        ns.push(elm);\n                    }\n                }\n            }\n            else {\n                if (elm) ns.push(elm)\n            }\n/*@end @*/\n\n        }\n        ns.isSorted = false;\n        return ns;\n    }, 'nodeset', false, []],\n\n    'local-name': [function(ns) {\n        var nd;\n        switch (arguments.length) {\n            case 0:\n                nd = this.node;\n                break;\n            case 1:\n                if ((ns = ns.evaluate(this)).isNodeSet) {\n                    nd = ns.first();\n                    break;\n                }\n            default:\n                throw Error('Function local-name expects (nodeset?)');\n                break;\n        }\n        return '' + nd.nodeName.toLowerCase();\n    }, 'string', false, [true, false]],\n\n    name: [function(ns) {\n        // not implemented\n        return FunctionCall.funcs['local-name'][0].apply(this, arguments);\n    }, 'string', false, [true, false]],\n\n    'namespace-uri': [function(ns) {\n        // not implemented\n        return '';\n    }, 'string', false, [true, false]],\n\n    string: [function(s) {\n        switch (arguments.length) {\n            case 0:\n                s = NodeUtil.to('string', this.node);\n                break;\n            case 1:\n                s = s.string(this);\n                break;\n            default:\n                throw Error('Function string expects (object?)');\n                break;\n        }\n        return s;\n    }, 'string', false, [true, false]],\n\n    concat: [function(s1, s2) {\n        if (arguments.length < 2) {\n            throw Error('Function concat expects (string, string[, ...])');\n        }\n        for (var t = '', i = 0, l = arguments.length; i < l; i ++) {\n            t += arguments[i].string(this);\n        }\n        return t;\n    }, 'string', false, []],\n\n    'starts-with': [function(s1, s2) {\n        if (arguments.length != 2) {\n            throw Error('Function starts-with expects (string, string)');\n        }\n        s1 = s1.string(this);\n        s2 = s2.string(this);\n        return s1.indexOf(s2) == 0;\n    }, 'boolean', false, []],\n\n    contains: [function(s1, s2) {\n        if (arguments.length != 2) {\n            throw Error('Function contains expects (string, string)');\n        }\n        s1 = s1.string(this);\n        s2 = s2.string(this);\n        return s1.indexOf(s2) != -1;\n    }, 'boolean', false, []],\n\n    substring: [function(s, n1, n2) {\n        var a1, a2;\n        s = s.string(this);\n        n1 = n1.number(this);\n        switch (arguments.length) {\n            case 2:\n                n2 = s.length - n1 + 1;\n                break;\n            case 3:\n                n2 = n2.number(this);\n                break;\n            default:\n                throw Error('Function substring expects (string, string)');\n                break;\n        }\n        n1 = Math.round(n1);\n        n2 = Math.round(n2);\n        a1 = n1 - 1;\n        a2 = n1 + n2 - 1;\n        if (a2 == Infinity) {\n            return s.substring(a1 < 0 ? 0 : a1);\n        }\n        else {\n            return s.substring(a1 < 0 ? 0 : a1, a2)\n        }\n    }, 'string', false, []],\n\n    'substring-before': [function(s1, s2) {\n        var n;\n        if (arguments.length != 2) {\n            throw Error('Function substring-before expects (string, string)');\n        }\n        s1 = s1.string(this);\n        s2 = s2.string(this);\n        n = s1.indexOf(s2);\n        if (n == -1) return '';\n        return s1.substring(0, n);\n    }, 'string', false, []],\n\n    'substring-after': [function(s1, s2) {\n        if (arguments.length != 2) {\n            throw Error('Function substring-after expects (string, string)');\n        }\n        s1 = s1.string(this);\n        s2 = s2.string(this);\n        var n = s1.indexOf(s2);\n        if (n == -1) return '';\n        return s1.substring(n + s2.length);\n    }, 'string', false, []],\n\n    'string-length': [function(s) {\n        switch (arguments.length) {\n            case 0:\n                s = NodeUtil.to('string', this.node);\n                break;\n            case 1:\n                s = s.string(this);\n                break;\n            default:\n                throw Error('Function string-length expects (string?)');\n                break;\n        }\n        return s.length;\n    }, 'number', false, [true, false]],\n\n    'normalize-space': [function(s) {\n        switch (arguments.length) {\n            case 0:\n                s = NodeUtil.to('string', this.node);\n                break;\n            case 1:\n                s = s.string(this);\n                break;\n            default:\n                throw Error('Function normalize-space expects (string?)');\n                break;\n        }\n        return s.replace(/\\s+/g, ' ').replace(/^ /, '').replace(/ $/, '');\n    }, 'string', false, [true, false]],\n\n    translate: [function(s1, s2, s3) {\n        if (arguments.length != 3) {\n            throw Error('Function translate expects (string, string, string)');\n        }\n        s1 = s1.string(this);\n        s2 = s2.string(this);\n        s3 = s3.string(this);\n\n        var map = [];\n        for (var i = 0, l = s2.length; i < l; i ++) {\n            var ch = s2.charAt(i);\n            if (!map[ch]) map[ch] = s3.charAt(i) || '';\n        }\n        for (var t = '', i = 0, l = s1.length; i < l; i ++) {\n            var ch = s1.charAt(i);\n            var replace = map[ch]\n            t += (replace != undefined) ? replace : ch;\n        }\n        return t;\n    }, 'string', false, []],\n\n    'boolean': [function(b) {\n        if (arguments.length != 1) {\n            throw Error('Function boolean expects (object)');\n        }\n        return b.bool(this)\n    }, 'boolean', false, []],\n\n    not: [function(b) {\n        if (arguments.length != 1) {\n            throw Error('Function not expects (object)');\n        }\n        return !b.bool(this)\n    }, 'boolean', false, []],\n\n    'true': [function() {\n        if (arguments.length != 0) {\n            throw Error('Function true expects ()');\n        }\n        return true;\n    }, 'boolean', false, []],\n\n    'false': [function() {\n        if (arguments.length != 0) {\n            throw Error('Function false expects ()');\n        }\n        return false;\n    }, 'boolean', false, []],\n\n    lang: [function(s) {\n        // not implemented\n        return false;\n    }, 'boolean', false, []],\n\n    number: [function(n) {\n        switch (arguments.length) {\n            case 0:\n                n = NodeUtil.to('number', this.node);\n                break;\n            case 1:\n                n = n.number(this);\n                break;\n            default:\n                throw Error('Function number expects (object?)');\n                break;\n        }\n        return n;\n    }, 'number', false, [true, false]],\n\n    sum: [function(ns) {\n        var nodes, n, i, l;\n        if (arguments.length != 1 || !(ns = ns.evaluate(this)).isNodeSet) {\n            throw Error('Function sum expects (nodeset)');\n        }\n        nodes = ns.list();\n        n = 0;\n        for (i = 0, l = nodes.length; i < l; i ++) {\n            n += NodeUtil.to('number', nodes[i]);\n        }\n        return n;\n    }, 'number', false, []],\n\n    floor: [function(n) {\n        if (arguments.length != 1) {\n            throw Error('Function floor expects (number)');\n        }\n        n = n.number(this);\n        return Math.floor(n);\n    }, 'number', false, []],\n\n    ceiling: [function(n) {\n        if (arguments.length != 1) {\n            throw Error('Function ceiling expects (number)');\n        }\n        n = n.number(this);\n        return Math.ceil(n);\n    }, 'number', false, []],\n\n    round: [function(n) {\n        if (arguments.length != 1) {\n            throw Error('Function round expects (number)');\n        }\n        n = n.number(this);\n        return Math.round(n);\n    }, 'number', false, []]\n};\n\nFunctionCall.parse = function(lexer) {\n    var expr, func = new FunctionCall(lexer.next());\n    lexer.next();\n    while (lexer.peek() != ')') {\n        if (lexer.empty()) {\n            throw Error('missing function argument list');\n        }\n        expr = BinaryExpr.parse(lexer);\n        func.arg(expr);\n        if (lexer.peek() != ',') break;\n        lexer.next();\n    }\n    if (lexer.empty()) {\n        throw Error('unclosed function argument list');\n    }\n    if (lexer.next() != ')') {\n        lexer.back();\n        throw Error('bad token: ' + lexer.next());\n    }\n    return func\n};\n\nFunctionCall.prototype = new BaseExpr();\n\nFunctionCall.prototype.evaluate = function (ctx) {\n    return this.func.apply(ctx, this.args);\n};\n\nFunctionCall.prototype.arg = function(arg) {\n    this.args.push(arg);\n\n    if (arg.needContextPosition) {\n        this.needContextPosition = true;\n    }\n\n    var args = this.args;\n    if (arg.needContextNode) {\n        args.needContexNode = true;\n    }\n    this.needContextNode = args.needContextNode ||\n                            this.needContextNodeInfo[args.length];\n};\n\nFunctionCall.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'function: ' + this.name + '\\n';\n    indent += '    ';\n\n    if (this.args.length) {\n        t += indent + 'arguments: ' + '\\n';\n        indent += '    ';\n        for (var i = 0; i < this.args.length; i ++) {\n            t += this.args[i].show(indent);\n        }\n    }\n\n    return t;\n};\n\n\n/*@cc_on @if (@_jscript)\nvar NodeWrapper = function(node, sourceIndex, subIndex, attributeName) {\n    this.node = node;\n    this.nodeType = node.nodeType;\n    this.sourceIndex = sourceIndex;\n    this.subIndex = subIndex;\n    this.attributeName = attributeName || '';\n    this.order = String.fromCharCode(sourceIndex) + String.fromCharCode(subIndex) + attributeName;\n};\n\nNodeWrapper.prototype.toString = function() {\n    return this.order;\n};\n@else @*/\nvar NodeID = {\n    uuid: 1,\n    get: function(node) {\n        return node.__jsxpath_id__ || (node.__jsxpath_id__ = this.uuid++);\n    }\n};\n/*@end @*/\n\nif (!window.NodeSet && window.defaultConfig)\n    window.NodeSet = null;\n    \nNodeSet = function() {\n    this.length = 0;\n    this.nodes = [];\n    this.seen = {};\n    this.idIndexMap = null;\n    this.reserveDels = [];\n};\n\nNodeSet.prototype.isNodeSet = true;\nNodeSet.prototype.isSorted = true;\n\n/*@_cc_on\nNodeSet.prototype.shortcut = true;\n@*/\n\nNodeSet.prototype.merge = function(nodeset) {\n    this.isSorted = false;\n    if (nodeset.only) {\n        return this.push(nodeset.only);\n    }\n\n    if (this.only){\n        var only = this.only;\n        delete this.only;\n        this.push(only);\n        this.length --;\n    }\n\n    var nodes = nodeset.nodes;\n    for (var i = 0, l = nodes.length; i < l; i ++) {\n        this._add(nodes[i]);\n    }\n};\n\nNodeSet.prototype.sort = function() {\n    if (this.only) return;\n    if (this.sortOff) return;\n\n    if (!this.isSorted) {\n        this.isSorted = true;\n        this.idIndexMap = null;\n\n/*@cc_on\n        if (this.shortcut) {\n            this.nodes.sort();\n        }\n        else {\n            this.nodes.sort(function(a, b) {\n                var result;\n                result = a.sourceIndex - b.sourceIndex;\n                if (result == 0)\n                    return a.subIndex - a.subIndex;\n                else\n                    return result;\n            });\n        }\n        return;\n@*/\n        var nodes = this.nodes;\n        nodes.sort(function(a, b) {\n            if (a == b) return 0;\n\n            if (a.compareDocumentPosition) {\n                var result = a.compareDocumentPosition(b);\n                if (result & 2) return 1;\n                if (result & 4) return -1;\n                return 0;\n            }\n            else {\n                var node1 = a, node2 = b, ancestor1 = a, ancestor2 = b, deep1 = 0, deep2 = 0;\n\n                while(ancestor1 = ancestor1.parentNode) deep1 ++;\n                while(ancestor2 = ancestor2.parentNode) deep2 ++;\n\n                // same deep\n                if (deep1 > deep2) {\n                    while (deep1-- != deep2) node1 = node1.parentNode;\n                    if (node1 == node2) return 1;\n                }\n                else if (deep2 > deep1) {\n                    while (deep2-- != deep1) node2 = node2.parentNode;\n                    if (node1 == node2) return -1;\n                }\n\n                while ((ancestor1 = node1.parentNode) != (ancestor2 = node2.parentNode)) {\n                    node1 = ancestor1;\n                    node2 = ancestor2;\n                }\n\n                // node1 is node2's sibling\n                while (node1 = node1.nextSibling) if (node1 == node2) return -1;\n\n                return 1;\n            }\n        });\n    }\n};\n\n\n/*@cc_on @if (@_jscript)\nNodeSet.prototype.sourceOffset = 1;\nNodeSet.prototype.subOffset = 2;\nNodeSet.prototype.createWrapper = function(node) {\n    var parent, child, attributes, attributesLength, sourceIndex, subIndex, attributeName;\n\n    sourceIndex = node.sourceIndex;\n\n    if (typeof sourceIndex != 'number') {\n        type = node.nodeType;\n        switch (type) {\n            case 2:\n                parent = node.parentNode;\n                sourceIndex = node.parentSourceIndex;\n                subIndex = -1;\n                attributeName = node.nodeName;\n                break;\n            case 9:\n                subIndex = -2;\n                sourceIndex = -1;\n                break;\n            default:\n                child = node;\n                subIndex = 0;\n                do {\n                    subIndex ++;\n                    sourceIndex = child.sourceIndex;\n                    if (sourceIndex) {\n                        parent = child;\n                        child = child.lastChild;\n                        if (!child) {\n                            child = parent;\n                            break;\n                        }\n                        subIndex ++;\n                    }\n                } while (child = child.previousSibling);\n                if (!sourceIndex) {\n                    sourceIndex = node.parentNode.sourceIndex;\n                }\n                break;\n        }\n    }\n    else {\n        subIndex = -2;\n    }\n\n    sourceIndex += this.sourceOffset;\n    subIndex += this.subOffset;\n\n    return new NodeWrapper(node, sourceIndex, subIndex, attributeName);\n};\n\nNodeSet.prototype.reserveDelBySourceIndexAndSubIndex = function(sourceIndex, subIndex, offset, reverse) {\n    var map = this.createIdIndexMap();\n    var index;\n    if ((map = map[sourceIndex]) && (index = map[subIndex])) {\n        if (reverse && (this.length - offset - 1) > index || !reverse && offset < index) {\n            var obj = {\n                value: index,\n                order: String.fromCharCode(index),\n                toString: function() { return this.order },\n                valueOf: function() { return this.value }\n            };\n            this.reserveDels.push(obj);\n        }\n    }\n};\n@else @*/\nNodeSet.prototype.reserveDelByNodeID = function(id, offset, reverse) {\n    var map = this.createIdIndexMap();\n    var index;\n    if (index = map[id]) {\n        if (reverse && (this.length - offset - 1) > index || !reverse && offset < index) {\n            var obj = {\n                value: index,\n                order: String.fromCharCode(index),\n                toString: function() { return this.order },\n                valueOf: function() { return this.value }\n            };\n            this.reserveDels.push(obj);\n        }\n    }\n};\n/*@end @*/\n\nNodeSet.prototype.reserveDelByNode = function(node, offset, reverse) {\n/*@cc_on @if (@_jscript)\n    node = this.createWrapper(node);\n    this.reserveDelBySourceIndexAndSubIndex(node.sourceIndex, node.subIndex, offset, reverse);\n@else @*/\n    this.reserveDelByNodeID(NodeID.get(node), offset, reverse);\n/*@end @*/\n};\n\nNodeSet.prototype.doDel = function() {\n    if (!this.reserveDels.length) return;\n\n    if (this.length < 0x10000) {\n        var dels = this.reserveDels.sort(function(a, b) { return b - a });\n    }\n    else {\n        var dels = this.reserveDels.sort(function(a, b) { return b - a });\n    }\n    for (var i = 0, l = dels.length; i < l; i ++) {\n        this.del(dels[i]);\n    }\n    this.reserveDels = [];\n    this.idIndexMap = null;\n};\n\nNodeSet.prototype.createIdIndexMap = function() {\n    if (this.idIndexMap) {\n        return this.idIndexMap;\n    }\n    else {\n        var map = this.idIndexMap = {};\n        var nodes = this.nodes;\n        for (var i = 0, l = nodes.length; i < l; i ++) {\n            var node = nodes[i];\n/*@cc_on @if (@_jscript)\n            var sourceIndex = node.sourceIndex;\n            var subIndex = node.subIndex;\n            if (!map[sourceIndex]) map[sourceIndex] = {};\n            map[sourceIndex][subIndex] = i;\n@else @*/\n            var id = NodeID.get(node);\n            map[id] = i;\n/*@end @*/\n        }\n        return map;\n    }\n};\n\nNodeSet.prototype.del = function(index) {\n    this.length --;\n    if (this.only) {\n        delete this.only;\n    }\n    else {  \n        var node = this.nodes.splice(index, 1)[0];\n\n        if (this._first == node) {\n            delete this._first;\n            delete this._firstSourceIndex;\n            delete this._firstSubIndex;\n        }\n\n/*@cc_on @if (@_jscript)\n        delete this.seen[node.sourceIndex][node.subIndex];\n@else @*/\n        delete this.seen[NodeID.get(node)];\n/*@end @*/\n    }\n};\n\n\nNodeSet.prototype.delDescendant = function(elm, offset) {\n    if (this.only) return;\n    var nodeType = elm.nodeType;\n    if (nodeType != 1 && nodeType != 9) return;\n    if (uai.applewebkit2) return;\n\n    // element || document\n    if (!elm.contains) {\n        if (nodeType == 1) {\n            var _elm = elm;\n            elm = {\n                contains: function(node) {\n                    return node.compareDocumentPosition(_elm) & 8;\n                }\n            };\n        }\n        else {\n            // document\n            elm = {\n                contains: function() {\n                    return true;\n                }\n            };\n        }\n    }\n\n    var nodes = this.nodes;\n    for (var i = offset + 1; i < nodes.length; i ++) {\n\n/*@cc_on @if (@_jscript)\n        if (nodes[i].node.nodeType == 1 && elm.contains(nodes[i].node)) {\n@else @*/\n        if (elm.contains(nodes[i])) {\n/*@end @*/\n            this.del(i);\n            i --;\n        }\n    }\n};\n\nNodeSet.prototype._add = function(node, reverse) {\n\n/*@cc_on @if (@_jscript)\n\n    var first, firstSourceIndex, firstSubIndex, sourceIndex, subIndex, attributeName;\n\n    sourceIndex = node.sourceIndex;\n    subIndex = node.subIndex;\n    attributeName = node.attributeName;\n    seen = this.seen;\n\n    seen = seen[sourceIndex] || (seen[sourceIndex] = {});\n\n    if (node.nodeType == 2) {\n        seen = seen[subIndex] || (seen[subIndex] = {});\n        if (seen[attributeName]) {\n            return true;\n        }\n        seen[attributeName] = true;\n    }\n    else {\n        if (seen[subIndex]) {\n            return true;\n        }\n        seen[subIndex] = true;\n    }\n\n    if (sourceIndex >= 0x10000 || subIndex >= 0x10000) {\n        this.shortcut = false;\n    }\n\n    // if this._first is undefined and this.nodes is not empty\n    // then first node shortcut is disabled.\n    if (this._first || this.nodes.length == 0) {\n        first = this._first;\n        firstSourceIndex = this._firstSourceIndex;\n        firstSubIndex = this._firstSubIndex;\n        if (!first || firstSourceIndex > sourceIndex || (firstSourceIndex == sourceIndex && firstSubIndex > subIndex)) {\n            this._first = node;\n            this._firstSourceIndex = sourceIndex;\n            this._firstSubIndex = subIndex\n        }\n    }\n\n@else @*/\n\n    var seen = this.seen;\n    var id = NodeID.get(node);\n    if (seen[id]) return true;\n    seen[id] = true;\n\n/*@end @*/\n\n    this.length++;\n    if (reverse) \n        this.nodes.unshift(node);\n    else\n        this.nodes.push(node);\n};\n\n\nNodeSet.prototype.unshift = function(node) {\n    if (!this.length) {\n        this.length ++;\n        this.only = node;\n        return\n    }\n    if (this.only){\n        var only = this.only;\n        delete this.only;\n        this.unshift(only);\n        this.length --;\n    }\n/*@cc_on\n    node = this.createWrapper(node);\n@*/\n    return this._add(node, true);\n};\n\n\nNodeSet.prototype.push = function(node) {\n    if (!this.length) {\n        this.length ++;\n        this.only = node;\n        return;\n    }\n    if (this.only) {\n        var only = this.only;\n        delete this.only;\n        this.push(only);\n        this.length --;\n    }\n/*@cc_on\n    node = this.createWrapper(node);\n@*/\n    return this._add(node);\n};\n\nNodeSet.prototype.first = function() {\n    if (this.only) return this.only;\n/*@cc_on\n    if (this._first) return this._first.node;\n    if (this.nodes.length > 1) this.sort();\n    var node = this.nodes[0];\n    return node ? node.node : undefined;\n@*/\n    if (this.nodes.length > 1) this.sort();\n    return this.nodes[0];\n};\n\nNodeSet.prototype.list = function() {\n    if (this.only) return [this.only];\n    this.sort();\n/*@cc_on\n    var i, l, nodes, results;\n    nodes = this.nodes;\n    results = [];\n    for (i = 0, l = nodes.length; i < l; i ++) {\n        results.push(nodes[i].node);\n    }\n    return results;\n@*/\n    return this.nodes;\n};\n\nNodeSet.prototype.string = function() {\n    var node = this.only || this.first();\n    return node ? NodeUtil.to('string', node) : '';\n};\n\nNodeSet.prototype.bool = function() {\n    return !! (this.length || this.only);\n};\n\nNodeSet.prototype.number = function() {\n    return + this.string();\n};\n\nNodeSet.prototype.iterator = function(reverse) {\n    this.sort();\n    var nodeset = this;\n\n    if (!reverse) {\n        var count = 0;\n        return function() {\n            if (nodeset.only && count++ == 0) return nodeset.only;\n/*@cc_on @if(@_jscript)\n            var wrapper = nodeset.nodes[count++];\n            if (wrapper) return wrapper.node;\n            return undefined;\n@else @*/\n            return nodeset.nodes[count++];\n/*@end @*/\n        };\n    }\n    else {\n        var count = 0;\n        return function() {\n            var index = nodeset.length - (count++) - 1;\n            if (nodeset.only && index == 0) return nodeset.only;\n/*@cc_on @if(@_jscript)\n            var wrapper = nodeset.nodes[index];\n            if (wrapper) return wrapper.node;\n            return undefined;\n@else @*/\n            return nodeset.nodes[index];\n/*@end @*/\n        };\n    }\n};\n\n\nvar install = function(win) {\n\n    win = win || this;\n    var doc = win.document;\n    var undefined = win.undefined;\n\n    win.XPathExpression = function(expr) {\n        if (!expr.length) {\n            throw win.Error('no expression');\n        }\n        var lexer = this.lexer = Lexer(expr);\n        if (lexer.empty()) {\n            throw win.Error('no expression');\n        }\n        this.expr = BinaryExpr.parse(lexer);\n        if (!lexer.empty()) {\n            throw win.Error('bad token: ' + lexer.next());\n        }\n    };\n    \n    win.XPathExpression.prototype.evaluate = function(node, type) {\n        return new win.XPathResult(this.expr.evaluate(new Ctx(node)), type);\n    };\n    \n    win.XPathResult = function (value, type) {\n        if (type == 0) {\n            switch (typeof value) {\n                case 'object':  type ++; // 4\n                case 'boolean': type ++; // 3\n                case 'string':  type ++; // 2\n                case 'number':  type ++; // 1\n            }\n        }\n    \n        this.resultType = type;\n    \n        switch (type) {\n            case 1:\n                this.numberValue = value.isNodeSet ? value.number() : +value;\n                return;\n            case 2:\n                this.stringValue = value.isNodeSet ? value.string() : '' + value;\n                return;\n            case 3:\n                this.booleanValue = value.isNodeSet ? value.bool() : !! value;\n                return;\n            case 4: case 5: case 6: case 7:\n                this.nodes = value.list();\n                this.snapshotLength = value.length;\n                this.index = 0;\n                this.invalidIteratorState = false;\n                break;\n            case 8: case 9:\n                this.singleNodeValue = value.first();\n                return;\n        }\n    };\n    \n    win.XPathResult.prototype.iterateNext = function() { return this.nodes[this.index++] };\n    win.XPathResult.prototype.snapshotItem = function(i) { return this.nodes[i] };\n    \n    win.XPathResult.ANY_TYPE = 0;\n    win.XPathResult.NUMBER_TYPE = 1;\n    win.XPathResult.STRING_TYPE = 2;\n    win.XPathResult.BOOLEAN_TYPE = 3;\n    win.XPathResult.UNORDERED_NODE_ITERATOR_TYPE = 4;\n    win.XPathResult.ORDERED_NODE_ITERATOR_TYPE = 5;\n    win.XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE = 6;\n    win.XPathResult.ORDERED_NODE_SNAPSHOT_TYPE = 7;\n    win.XPathResult.ANY_UNORDERED_NODE_TYPE = 8;\n    win.XPathResult.FIRST_ORDERED_NODE_TYPE = 9;\n    \n    \n    doc.createExpression = function(expr) {\n        return new win.XPathExpression(expr, null);\n    };\n    \n    doc.evaluate = function(expr, context, _, type) {\n        return doc.createExpression(expr, null).evaluate(context, type);\n    };\n};\n\nvar win;\n\nif (config.targetFrame) {\n    var frame = document.getElementById(config.targetFrame);\n    if (frame) win = frame.contentWindow;\n}\n\nif (config.exportInstaller) {\n    window.install = install;\n}\n\nif (!config.hasNative || !config.useNative) {\n    install(win || window);\n}\n\n\n})();\n\n// Thanks for reading this source code. We love JavaScript.\n\n","/*!\n * Bootstrap v3.0.3 (http://getbootstrap.com)\n * Copyright 2013 Twitter, Inc.\n * Licensed under http://www.apache.org/licenses/LICENSE-2.0\n */\n\nif(\"undefined\"==typeof jQuery)throw new Error(\"Bootstrap requires jQuery\");+function(a){\"use strict\";function b(){var a=document.createElement(\"bootstrap\"),b={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd otransitionend\",transition:\"transitionend\"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]}}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(jQuery),+function(a){\"use strict\";var b='[data-dismiss=\"alert\"]',c=function(c){a(c).on(\"click\",b,this.close)};c.prototype.close=function(b){function c(){f.trigger(\"closed.bs.alert\").remove()}var d=a(this),e=d.attr(\"data-target\");e||(e=d.attr(\"href\"),e=e&&e.replace(/.*(?=#[^\\s]*$)/,\"\"));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass(\"alert\")?d:d.parent()),f.trigger(b=a.Event(\"close.bs.alert\")),b.isDefaultPrevented()||(f.removeClass(\"in\"),a.support.transition&&f.hasClass(\"fade\")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data(\"bs.alert\");e||d.data(\"bs.alert\",e=new c(this)),\"string\"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on(\"click.bs.alert.data-api\",b,c.prototype.close)}(jQuery),+function(a){\"use strict\";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d)};b.DEFAULTS={loadingText:\"loading...\"},b.prototype.setState=function(a){var b=\"disabled\",c=this.$element,d=c.is(\"input\")?\"val\":\"html\",e=c.data();a+=\"Text\",e.resetText||c.data(\"resetText\",c[d]()),c[d](e[a]||this.options[a]),setTimeout(function(){\"loadingText\"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle=\"buttons\"]'),b=!0;if(a.length){var c=this.$element.find(\"input\");\"radio\"===c.prop(\"type\")&&(c.prop(\"checked\")&&this.$element.hasClass(\"active\")?b=!1:a.find(\".active\").removeClass(\"active\")),b&&c.prop(\"checked\",!this.$element.hasClass(\"active\")).trigger(\"change\")}b&&this.$element.toggleClass(\"active\")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data(\"bs.button\"),f=\"object\"==typeof c&&c;e||d.data(\"bs.button\",e=new b(this,f)),\"toggle\"==c?e.toggle():c&&e.setState(c)})},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on(\"click.bs.button.data-api\",\"[data-toggle^=button]\",function(b){var c=a(b.target);c.hasClass(\"btn\")||(c=c.closest(\".btn\")),c.button(\"toggle\"),b.preventDefault()})}(jQuery),+function(a){\"use strict\";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(\".carousel-indicators\"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,\"hover\"==this.options.pause&&this.$element.on(\"mouseenter\",a.proxy(this.pause,this)).on(\"mouseleave\",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:\"hover\",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(\".item.active\"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one(\"slid.bs.carousel\",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?\"next\":\"prev\",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(\".next, .prev\").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){return this.sliding?void 0:this.slide(\"next\")},b.prototype.prev=function(){return this.sliding?void 0:this.slide(\"prev\")},b.prototype.slide=function(b,c){var d=this.$element.find(\".item.active\"),e=c||d[b](),f=this.interval,g=\"next\"==b?\"left\":\"right\",h=\"next\"==b?\"first\":\"last\",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(\".item\")[h]()}this.sliding=!0,f&&this.pause();var j=a.Event(\"slide.bs.carousel\",{relatedTarget:e[0],direction:g});if(!e.hasClass(\"active\")){if(this.$indicators.length&&(this.$indicators.find(\".active\").removeClass(\"active\"),this.$element.one(\"slid.bs.carousel\",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass(\"active\")})),a.support.transition&&this.$element.hasClass(\"slide\")){if(this.$element.trigger(j),j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(\" \")).addClass(\"active\"),d.removeClass([\"active\",g].join(\" \")),i.sliding=!1,setTimeout(function(){i.$element.trigger(\"slid.bs.carousel\")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(j),j.isDefaultPrevented())return;d.removeClass(\"active\"),e.addClass(\"active\"),this.sliding=!1,this.$element.trigger(\"slid.bs.carousel\")}return f&&this.cycle(),this}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data(\"bs.carousel\"),f=a.extend({},b.DEFAULTS,d.data(),\"object\"==typeof c&&c),g=\"string\"==typeof c?c:f.slide;e||d.data(\"bs.carousel\",e=new b(this,f)),\"number\"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on(\"click.bs.carousel.data-api\",\"[data-slide], [data-slide-to]\",function(b){var c,d=a(this),e=a(d.attr(\"data-target\")||(c=d.attr(\"href\"))&&c.replace(/.*(?=#[^\\s]+$)/,\"\")),f=a.extend({},e.data(),d.data()),g=d.attr(\"data-slide-to\");g&&(f.interval=!1),e.carousel(f),(g=d.attr(\"data-slide-to\"))&&e.data(\"bs.carousel\").to(g),b.preventDefault()}),a(window).on(\"load\",function(){a('[data-ride=\"carousel\"]').each(function(){var b=a(this);b.carousel(b.data())})})}(jQuery),+function(a){\"use strict\";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass(\"width\");return a?\"width\":\"height\"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass(\"in\")){var b=a.Event(\"show.bs.collapse\");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find(\"> .panel > .in\");if(c&&c.length){var d=c.data(\"bs.collapse\");if(d&&d.transitioning)return;c.collapse(\"hide\"),d||c.data(\"bs.collapse\",null)}var e=this.dimension();this.$element.removeClass(\"collapse\").addClass(\"collapsing\")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass(\"collapsing\").addClass(\"in\")[e](\"auto\"),this.transitioning=0,this.$element.trigger(\"shown.bs.collapse\")};if(!a.support.transition)return f.call(this);var g=a.camelCase([\"scroll\",e].join(\"-\"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass(\"in\")){var b=a.Event(\"hide.bs.collapse\");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass(\"collapsing\").removeClass(\"collapse\").removeClass(\"in\"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger(\"hidden.bs.collapse\").removeClass(\"collapsing\").addClass(\"collapse\")};return a.support.transition?(this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350),void 0):d.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass(\"in\")?\"hide\":\"show\"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data(\"bs.collapse\"),f=a.extend({},b.DEFAULTS,d.data(),\"object\"==typeof c&&c);e||d.data(\"bs.collapse\",e=new b(this,f)),\"string\"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on(\"click.bs.collapse.data-api\",\"[data-toggle=collapse]\",function(b){var c,d=a(this),e=d.attr(\"data-target\")||b.preventDefault()||(c=d.attr(\"href\"))&&c.replace(/.*(?=#[^\\s]+$)/,\"\"),f=a(e),g=f.data(\"bs.collapse\"),h=g?\"toggle\":d.data(),i=d.attr(\"data-parent\"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-toggle=collapse][data-parent=\"'+i+'\"]').not(d).addClass(\"collapsed\"),d[f.hasClass(\"in\")?\"addClass\":\"removeClass\"](\"collapsed\")),f.collapse(h)})}(jQuery),+function(a){\"use strict\";function b(){a(d).remove(),a(e).each(function(b){var d=c(a(this));d.hasClass(\"open\")&&(d.trigger(b=a.Event(\"hide.bs.dropdown\")),b.isDefaultPrevented()||d.removeClass(\"open\").trigger(\"hidden.bs.dropdown\"))})}function c(b){var c=b.attr(\"data-target\");c||(c=b.attr(\"href\"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\\s]*$)/,\"\"));var d=c&&a(c);return d&&d.length?d:b.parent()}var d=\".dropdown-backdrop\",e=\"[data-toggle=dropdown]\",f=function(b){a(b).on(\"click.bs.dropdown\",this.toggle)};f.prototype.toggle=function(d){var e=a(this);if(!e.is(\".disabled, :disabled\")){var f=c(e),g=f.hasClass(\"open\");if(b(),!g){if(\"ontouchstart\"in document.documentElement&&!f.closest(\".navbar-nav\").length&&a('<div class=\"dropdown-backdrop\"/>').insertAfter(a(this)).on(\"click\",b),f.trigger(d=a.Event(\"show.bs.dropdown\")),d.isDefaultPrevented())return;f.toggleClass(\"open\").trigger(\"shown.bs.dropdown\"),e.focus()}return!1}},f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(\".disabled, :disabled\")){var f=c(d),g=f.hasClass(\"open\");if(!g||g&&27==b.keyCode)return 27==b.which&&f.find(e).focus(),d.click();var h=a(\"[role=menu] li:not(.divider):visible a\",f);if(h.length){var i=h.index(h.filter(\":focus\"));38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<h.length-1&&i++,~i||(i=0),h.eq(i).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data(\"bs.dropdown\");d||c.data(\"bs.dropdown\",d=new f(this)),\"string\"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=f,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on(\"click.bs.dropdown.data-api\",b).on(\"click.bs.dropdown.data-api\",\".dropdown form\",function(a){a.stopPropagation()}).on(\"click.bs.dropdown.data-api\",e,f.prototype.toggle).on(\"keydown.bs.dropdown.data-api\",e+\", [role=menu]\",f.prototype.keydown)}(jQuery),+function(a){\"use strict\";var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?\"hide\":\"show\"](a)},b.prototype.show=function(b){var c=this,d=a.Event(\"show.bs.modal\",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on(\"click.dismiss.modal\",'[data-dismiss=\"modal\"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass(\"fade\");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show(),d&&c.$element[0].offsetWidth,c.$element.addClass(\"in\").attr(\"aria-hidden\",!1),c.enforceFocus();var e=a.Event(\"shown.bs.modal\",{relatedTarget:b});d?c.$element.find(\".modal-dialog\").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event(\"hide.bs.modal\"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off(\"focusin.bs.modal\"),this.$element.removeClass(\"in\").attr(\"aria-hidden\",!0).off(\"click.dismiss.modal\"),a.support.transition&&this.$element.hasClass(\"fade\")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off(\"focusin.bs.modal\").on(\"focusin.bs.modal\",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on(\"keyup.dismiss.bs.modal\",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off(\"keyup.dismiss.bs.modal\")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger(\"hidden.bs.modal\")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass(\"fade\")?\"fade\":\"\";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class=\"modal-backdrop '+c+'\" />').appendTo(document.body),this.$element.on(\"click.dismiss.modal\",a.proxy(function(a){a.target===a.currentTarget&&(\"static\"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass(\"in\"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass(\"in\"),a.support.transition&&this.$element.hasClass(\"fade\")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data(\"bs.modal\"),g=a.extend({},b.DEFAULTS,e.data(),\"object\"==typeof c&&c);f||e.data(\"bs.modal\",f=new b(this,g)),\"string\"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on(\"click.bs.modal.data-api\",'[data-toggle=\"modal\"]',function(b){var c=a(this),d=c.attr(\"href\"),e=a(c.attr(\"data-target\")||d&&d.replace(/.*(?=#[^\\s]+$)/,\"\")),f=e.data(\"modal\")?\"toggle\":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f,this).one(\"hide\",function(){c.is(\":visible\")&&c.focus()})}),a(document).on(\"show.bs.modal\",\".modal\",function(){a(document.body).addClass(\"modal-open\")}).on(\"hidden.bs.modal\",\".modal\",function(){a(document.body).removeClass(\"modal-open\")})}(jQuery),+function(a){\"use strict\";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init(\"tooltip\",a,b)};b.DEFAULTS={animation:!0,placement:\"top\",selector:!1,template:'<div class=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',trigger:\"hover focus\",title:\"\",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(\" \"),f=e.length;f--;){var g=e[f];if(\"click\"==g)this.$element.on(\"click.\"+this.type,this.options.selector,a.proxy(this.toggle,this));else if(\"manual\"!=g){var h=\"hover\"==g?\"mouseenter\":\"focus\",i=\"hover\"==g?\"mouseleave\":\"blur\";this.$element.on(h+\".\"+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+\".\"+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:\"manual\",selector:\"\"}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&\"number\"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data(\"bs.\"+this.type);return clearTimeout(c.timeout),c.hoverState=\"in\",c.options.delay&&c.options.delay.show?(c.timeout=setTimeout(function(){\"in\"==c.hoverState&&c.show()},c.options.delay.show),void 0):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data(\"bs.\"+this.type);return clearTimeout(c.timeout),c.hoverState=\"out\",c.options.delay&&c.options.delay.hide?(c.timeout=setTimeout(function(){\"out\"==c.hoverState&&c.hide()},c.options.delay.hide),void 0):c.hide()},b.prototype.show=function(){var b=a.Event(\"show.bs.\"+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(b),b.isDefaultPrevented())return;var c=this.tip();this.setContent(),this.options.animation&&c.addClass(\"fade\");var d=\"function\"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,e=/\\s?auto?\\s?/i,f=e.test(d);f&&(d=d.replace(e,\"\")||\"top\"),c.detach().css({top:0,left:0,display:\"block\"}).addClass(d),this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);var g=this.getPosition(),h=c[0].offsetWidth,i=c[0].offsetHeight;if(f){var j=this.$element.parent(),k=d,l=document.documentElement.scrollTop||document.body.scrollTop,m=\"body\"==this.options.container?window.innerWidth:j.outerWidth(),n=\"body\"==this.options.container?window.innerHeight:j.outerHeight(),o=\"body\"==this.options.container?0:j.offset().left;d=\"bottom\"==d&&g.top+g.height+i-l>n?\"top\":\"top\"==d&&g.top-l-i<0?\"bottom\":\"right\"==d&&g.right+h>m?\"left\":\"left\"==d&&g.left-h<o?\"right\":d,c.removeClass(k).addClass(d)}var p=this.getCalculatedOffset(d,g,h,i);this.applyPlacement(p,d),this.$element.trigger(\"shown.bs.\"+this.type)}},b.prototype.applyPlacement=function(a,b){var c,d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css(\"margin-top\"),10),h=parseInt(d.css(\"margin-left\"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),a.top=a.top+g,a.left=a.left+h,d.offset(a).addClass(\"in\");var i=d[0].offsetWidth,j=d[0].offsetHeight;if(\"top\"==b&&j!=f&&(c=!0,a.top=a.top+f-j),/bottom|top/.test(b)){var k=0;a.left<0&&(k=-2*a.left,a.left=0,d.offset(a),i=d[0].offsetWidth,j=d[0].offsetHeight),this.replaceArrow(k-e+i,i,\"left\")}else this.replaceArrow(j-f,j,\"top\");c&&d.offset(a)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+\"%\":\"\")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(\".tooltip-inner\")[this.options.html?\"html\":\"text\"](b),a.removeClass(\"fade in top bottom left right\")},b.prototype.hide=function(){function b(){\"in\"!=c.hoverState&&d.detach()}var c=this,d=this.tip(),e=a.Event(\"hide.bs.\"+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass(\"in\"),a.support.transition&&this.$tip.hasClass(\"fade\")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.$element.trigger(\"hidden.bs.\"+this.type),this)},b.prototype.fixTitle=function(){var a=this.$element;(a.attr(\"title\")||\"string\"!=typeof a.attr(\"data-original-title\"))&&a.attr(\"data-original-title\",a.attr(\"title\")||\"\").attr(\"title\",\"\")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},\"function\"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return\"bottom\"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:\"top\"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:\"left\"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr(\"data-original-title\")||(\"function\"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(\".tooltip-arrow\")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data(\"bs.\"+this.type):this;c.tip().hasClass(\"in\")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){this.hide().$element.off(\".\"+this.type).removeData(\"bs.\"+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data(\"bs.tooltip\"),f=\"object\"==typeof c&&c;e||d.data(\"bs.tooltip\",e=new b(this,f)),\"string\"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(jQuery),+function(a){\"use strict\";var b=function(a,b){this.init(\"popover\",a,b)};if(!a.fn.tooltip)throw new Error(\"Popover requires tooltip.js\");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:\"right\",trigger:\"click\",content:\"\",template:'<div class=\"popover\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(\".popover-title\")[this.options.html?\"html\":\"text\"](b),a.find(\".popover-content\")[this.options.html?\"html\":\"text\"](c),a.removeClass(\"fade top bottom left right in\"),a.find(\".popover-title\").html()||a.find(\".popover-title\").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr(\"data-content\")||(\"function\"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(\".arrow\")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data(\"bs.popover\"),f=\"object\"==typeof c&&c;e||d.data(\"bs.popover\",e=new b(this,f)),\"string\"==typeof c&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(jQuery),+function(a){\"use strict\";function b(c,d){var e,f=a.proxy(this.process,this);this.$element=a(c).is(\"body\")?a(window):a(c),this.$body=a(\"body\"),this.$scrollElement=this.$element.on(\"scroll.bs.scroll-spy.data-api\",f),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||(e=a(c).attr(\"href\"))&&e.replace(/.*(?=#[^\\s]+$)/,\"\")||\"\")+\" .nav li > a\",this.offsets=a([]),this.targets=a([]),this.activeTarget=null,this.refresh(),this.process()}b.DEFAULTS={offset:10},b.prototype.refresh=function(){var b=this.$element[0]==window?\"offset\":\"position\";this.offsets=a([]),this.targets=a([]);var c=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data(\"target\")||d.attr(\"href\"),f=/^#\\w/.test(e)&&a(e);return f&&f.length&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parents(\".active\").removeClass(\"active\");var c=this.selector+'[data-target=\"'+b+'\"],'+this.selector+'[href=\"'+b+'\"]',d=a(c).parents(\"li\").addClass(\"active\");d.parent(\".dropdown-menu\").length&&(d=d.closest(\"li.dropdown\").addClass(\"active\")),d.trigger(\"activate.bs.scrollspy\")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data(\"bs.scrollspy\"),f=\"object\"==typeof c&&c;e||d.data(\"bs.scrollspy\",e=new b(this,f)),\"string\"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on(\"load\",function(){a('[data-spy=\"scroll\"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(jQuery),+function(a){\"use strict\";var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest(\"ul:not(.dropdown-menu)\"),d=b.data(\"target\");if(d||(d=b.attr(\"href\"),d=d&&d.replace(/.*(?=#[^\\s]*$)/,\"\")),!b.parent(\"li\").hasClass(\"active\")){var e=c.find(\".active:last a\")[0],f=a.Event(\"show.bs.tab\",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent(\"li\"),c),this.activate(g,g.parent(),function(){b.trigger({type:\"shown.bs.tab\",relatedTarget:e})})}}},b.prototype.activate=function(b,c,d){function e(){f.removeClass(\"active\").find(\"> .dropdown-menu > .active\").removeClass(\"active\"),b.addClass(\"active\"),g?(b[0].offsetWidth,b.addClass(\"in\")):b.removeClass(\"fade\"),b.parent(\".dropdown-menu\")&&b.closest(\"li.dropdown\").addClass(\"active\"),d&&d()}var f=c.find(\"> .active\"),g=d&&a.support.transition&&f.hasClass(\"fade\");g?f.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),f.removeClass(\"in\")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data(\"bs.tab\");e||d.data(\"bs.tab\",e=new b(this)),\"string\"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on(\"click.bs.tab.data-api\",'[data-toggle=\"tab\"], [data-toggle=\"pill\"]',function(b){b.preventDefault(),a(this).tab(\"show\")})}(jQuery),+function(a){\"use strict\";var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on(\"scroll.bs.affix.data-api\",a.proxy(this.checkPosition,this)).on(\"click.bs.affix.data-api\",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=null,this.checkPosition()};b.RESET=\"affix affix-top affix-bottom\",b.DEFAULTS={offset:0},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(\":visible\")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;\"object\"!=typeof f&&(h=g=f),\"function\"==typeof g&&(g=f.top()),\"function\"==typeof h&&(h=f.bottom());var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=c-h?\"bottom\":null!=g&&g>=d?\"top\":!1;this.affixed!==i&&(this.unpin&&this.$element.css(\"top\",\"\"),this.affixed=i,this.unpin=\"bottom\"==i?e.top-d:null,this.$element.removeClass(b.RESET).addClass(\"affix\"+(i?\"-\"+i:\"\")),\"bottom\"==i&&this.$element.offset({top:document.body.offsetHeight-h-this.$element.height()}))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data(\"bs.affix\"),f=\"object\"==typeof c&&c;e||d.data(\"bs.affix\",e=new b(this,f)),\"string\"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on(\"load\",function(){a('[data-spy=\"affix\"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(jQuery);","(function(e){if(\"function\"==typeof bootstrap)bootstrap(\"jade\",e);else if(\"object\"==typeof exports)module.exports=e();else if(\"function\"==typeof define&&define.amd)define(e);else if(\"undefined\"!=typeof ses){if(!ses.ok())return;ses.makeJade=e}else\"undefined\"!=typeof window?window.jade=e():global.jade=e()})(function(){var define,ses,bootstrap,module,exports;\nreturn (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\n/*!\n * Jade - runtime\n * Copyright(c) 2010 TJ Holowaychuk <tj@vision-media.ca>\n * MIT Licensed\n */\n\n/**\n * Lame Array.isArray() polyfill for now.\n */\n\nif (!Array.isArray) {\n  Array.isArray = function(arr){\n    return '[object Array]' == Object.prototype.toString.call(arr);\n  };\n}\n\n/**\n * Lame Object.keys() polyfill for now.\n */\n\nif (!Object.keys) {\n  Object.keys = function(obj){\n    var arr = [];\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        arr.push(key);\n      }\n    }\n    return arr;\n  }\n}\n\n/**\n * Merge two attribute objects giving precedence\n * to values in object `b`. Classes are special-cased\n * allowing for arrays and merging/joining appropriately\n * resulting in a string.\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Object} a\n * @api private\n */\n\nexports.merge = function merge(a, b) {\n  var ac = a['class'];\n  var bc = b['class'];\n\n  if (ac || bc) {\n    ac = ac || [];\n    bc = bc || [];\n    if (!Array.isArray(ac)) ac = [ac];\n    if (!Array.isArray(bc)) bc = [bc];\n    a['class'] = ac.concat(bc).filter(nulls);\n  }\n\n  for (var key in b) {\n    if (key != 'class') {\n      a[key] = b[key];\n    }\n  }\n\n  return a;\n};\n\n/**\n * Filter null `val`s.\n *\n * @param {*} val\n * @return {Boolean}\n * @api private\n */\n\nfunction nulls(val) {\n  return val != null && val !== '';\n}\n\n/**\n * join array as classes.\n *\n * @param {*} val\n * @return {String}\n * @api private\n */\n\nfunction joinClasses(val) {\n  return Array.isArray(val) ? val.map(joinClasses).filter(nulls).join(' ') : val;\n}\n\n/**\n * Render the given attributes object.\n *\n * @param {Object} obj\n * @param {Object} escaped\n * @return {String}\n * @api private\n */\n\nexports.attrs = function attrs(obj, escaped){\n  var buf = []\n    , terse = obj.terse;\n\n  delete obj.terse;\n  var keys = Object.keys(obj)\n    , len = keys.length;\n\n  if (len) {\n    buf.push('');\n    for (var i = 0; i < len; ++i) {\n      var key = keys[i]\n        , val = obj[key];\n\n      if ('boolean' == typeof val || null == val) {\n        if (val) {\n          terse\n            ? buf.push(key)\n            : buf.push(key + '=\"' + key + '\"');\n        }\n      } else if (0 == key.indexOf('data') && 'string' != typeof val) {\n        buf.push(key + \"='\" + JSON.stringify(val) + \"'\");\n      } else if ('class' == key) {\n        if (escaped && escaped[key]){\n          if (val = exports.escape(joinClasses(val))) {\n            buf.push(key + '=\"' + val + '\"');\n          }\n        } else {\n          if (val = joinClasses(val)) {\n            buf.push(key + '=\"' + val + '\"');\n          }\n        }\n      } else if (escaped && escaped[key]) {\n        buf.push(key + '=\"' + exports.escape(val) + '\"');\n      } else {\n        buf.push(key + '=\"' + val + '\"');\n      }\n    }\n  }\n\n  return buf.join(' ');\n};\n\n/**\n * Escape the given string of `html`.\n *\n * @param {String} html\n * @return {String}\n * @api private\n */\n\nexports.escape = function escape(html){\n  return String(html)\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;');\n};\n\n/**\n * Re-throw the given `err` in context to the\n * the jade in `filename` at the given `lineno`.\n *\n * @param {Error} err\n * @param {String} filename\n * @param {String} lineno\n * @api private\n */\n\nexports.rethrow = function rethrow(err, filename, lineno, str){\n  if (!(err instanceof Error)) throw err;\n  if ((typeof window != 'undefined' || !filename) && !str) {\n    err.message += ' on line ' + lineno;\n    throw err;\n  }\n  try {\n    str =  str || require('fs').readFileSync(filename, 'utf8')\n  } catch (ex) {\n    rethrow(err, null, lineno)\n  }\n  var context = 3\n    , lines = str.split('\\n')\n    , start = Math.max(lineno - context, 0)\n    , end = Math.min(lines.length, lineno + context);\n\n  // Error context\n  var context = lines.slice(start, end).map(function(line, i){\n    var curr = i + start + 1;\n    return (curr == lineno ? '  > ' : '    ')\n      + curr\n      + '| '\n      + line;\n  }).join('\\n');\n\n  // Alter exception message\n  err.path = filename;\n  err.message = (filename || 'Jade') + ':' + lineno\n    + '\\n' + context + '\\n\\n' + err.message;\n  throw err;\n};\n\n},{\"fs\":2}],2:[function(require,module,exports){\n// nothing to see here... no file methods for the browser\n\n},{}]},{},[1])(1)\n});\n;\n"]}
=======
{"version":3,"file":"public/js/vendor.js","sources":["vendor/scripts/console-polyfill.js","vendor/scripts/android-xpath.js","vendor/scripts/javascript-xpath.js","vendor/scripts/bootstrap.js","node_modules/auto-reload-brunch/vendor/auto-reload.js","node_modules/jade-brunch/runtime.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CCfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CCbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CChwFA;AACA;AACA;AACA;AACA;AACA;AACA;A,CCNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A","sourcesContent":["// Console-polyfill. MIT license.\n// https://github.com/paulmillr/console-polyfill\n// Make it safe to do console.log() always.\n(function (con) {\n  'use strict';\n  var prop, method;\n  var empty = {};\n  var dummy = function() {};\n  var properties = 'memory'.split(',');\n  var methods = ('assert,count,debug,dir,dirxml,error,exception,group,' +\n     'groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,' +\n     'time,timeEnd,trace,warn').split(',');\n  while (prop = properties.pop()) con[prop] = con[prop] || empty;\n  while (method = methods.pop()) con[method] = con[method] || dummy;\n})(window.console = window.console || {});\n","/* Android 2.x claims XPath support, but has none.  Force non-native\n   XPath implementation in this case */\n  if (document.implementation\n      && document.implementation.hasFeature\n      && document.implementation.hasFeature(\"XPath\",null)\n      && !document.evaluate) {\n    window.jsxpath = {\n      targetFrame: undefined,\n      exportInstaller: false,\n      useNative: false, /* force non-native implementation */\n      useInnerText: true\n    };\n  }\n","/*  JavaScript-XPath 0.1.12\n *  (c) 2007 Cybozu Labs, Inc.\n *\n *  JavaScript-XPath is freely distributable under the terms of an MIT-style license.\n *  For details, see the JavaScript-XPath web site: http://coderepos.org/share/wiki/JavaScript-XPath\n *\n/*--------------------------------------------------------------------------*/\n\n\n\n(function () {\n\nvar undefined = void(0);\n\nvar defaultConfig = {\n    targetFrame: undefined,\n    exportInstaller: false,\n    useNative: true,\n    useInnerText: true\n};\n\nvar config;\n\nif (window.jsxpath) {\n    config = window.jsxpath;\n}\nelse {\n    var scriptElms = document.getElementsByTagName('script');\n    var scriptElm = scriptElms[scriptElms.length - 1];\n    var scriptSrc = scriptElm.src;\n    config = {};\n    var scriptSrcMatchResult = scriptSrc.match(/\\?(.*)$/);\n    if (scriptSrcMatchResult) {\n        var configStrings = scriptSrcMatchResult[1].split('&');\n        for (var i = 0, l = configStrings.length; i < l; i ++) {\n            var configString = configStrings[i];\n            var configStringSplited = configString.split('=');\n            var configName = configStringSplited[0];\n            var configValue = configStringSplited[1];\n            if (configValue == undefined) {\n                configValue == true;\n            }\n            else if (configValue == 'false' || /^-?\\d+$/.test(configValue)) {\n                configValue = eval(configValue);\n            }\n            config[configName] = configValue;\n        }\n    }\n}\n\nfor (var n in defaultConfig) {\n    if (!(n in config)) config[n] = defaultConfig[n];\n}\n\nconfig.hasNative = !!(document.implementation\n                        && document.implementation.hasFeature\n                        && document.implementation.hasFeature(\"XPath\", null));\n\nif (config.hasNative && config.useNative && !config.exportInstaller) {\n    return;\n}\n\n\n\nvar BinaryExpr;\nvar FilterExpr;\nvar FunctionCall;\nvar Literal;\nvar NameTest;\nvar NodeSet;\nvar NodeType;\nvar NodeUtil;\nvar Number;\nvar PathExpr;\nvar Step;\nvar UnaryExpr;\nvar UnionExpr;\nvar VariableReference;\n\n/*\n * object: user agent identifier\n */\nvar uai = new function() {\n\n    var ua = navigator.userAgent;\n\n    if (RegExp == undefined) {\n        if (ua.indexOf(\"Opera\") >= 0) {\n            this.opera = true;\n        } else if (ua.indexOf(\"Netscape\") >= 0) {\n            this.netscape = true;\n        } else if (ua.indexOf(\"Mozilla/\") == 0) {\n            this.mozilla = true;\n        } else {\n            this.unknown = true;\n        }\n\n        if (ua.indexOf(\"Gecko/\") >= 0) {\n            this.gecko = true;\n        }\n\n        if (ua.indexOf(\"Win\") >= 0) {\n            this.windows = true;\n        } else if (ua.indexOf(\"Mac\") >= 0) {\n            this.mac = true;\n        } else if (ua.indexOf(\"Linux\") >= 0) {\n            this.linux = true;\n        } else if (ua.indexOf(\"BSD\") >= 0) {\n            this.bsd = true;\n        } else if (ua.indexOf(\"SunOS\") >= 0) {\n            this.sunos = true;\n        }\n    }\n    else {\n\n        /* for Trident/Tasman */\n        /*@cc_on\n        @if (@_jscript)\n            function jscriptVersion() {\n                switch (@_jscript_version) {\n                    case 3.0:  return \"4.0\";\n                    case 5.0:  return \"5.0\";\n                    case 5.1:  return \"5.01\";\n                    case 5.5:  return \"5.5\";\n                    case 5.6:\n                        if (\"XMLHttpRequest\" in window) return \"7.0\";\n                        return \"6.0\";\n                    case 5.7:\n                        return \"7.0\";\n                    default:   return true;\n                }\n            }\n            if (@_win16 || @_win32 || @_win64) {\n                this.windows = true;\n                this.trident = jscriptVersion();\n            } else if (@_mac || navigator.platform.indexOf(\"Mac\") >= 0) {\n                // '@_mac' may be 'NaN' even if the platform is Mac,\n                // so we check 'navigator.platform', too.\n                this.mac = true;\n                this.tasman = jscriptVersion();\n            }\n            if (/MSIE (\\d+\\.\\d+)b?;/.test(ua)) {\n                this.ie = RegExp.$1;\n                this['ie' + RegExp.$1.charAt(0)] = true;\n            }\n        @else @*/\n\n        /* for AppleWebKit */\n        if (/AppleWebKit\\/(\\d+(?:\\.\\d+)*)/.test(ua)) {\n            this.applewebkit = RegExp.$1;\n            if (RegExp.$1.charAt(0) == 4) {\n                this.applewebkit2 = true;\n            }\n            else {\n                this.applewebkit3 = true;\n            }\n        }\n\n        /* for Gecko */\n        else if (typeof Components == \"object\" &&\n                 (/Gecko\\/(\\d{8})/.test(ua) ||\n                  navigator.product == \"Gecko\" && /^(\\d{8})$/.test(navigator.productSub))) {\n            this.gecko = RegExp.$1;\n        }\n\n        /*@end @*/\n\n        if (typeof(opera) == \"object\" && typeof(opera.version) == \"function\") {\n            this.opera = opera.version();\n            this['opera' + this.opera[0] + this.opera[2]] = true;\n        } else if (typeof opera == \"object\"\n                && (/Opera[\\/ ](\\d+\\.\\d+)/.test(ua))) {\n            this.opera = RegExp.$1;\n        } else if (this.ie) {\n        } else if (/Safari\\/(\\d+(?:\\.\\d+)*)/.test(ua)) {\n            this.safari = RegExp.$1;\n        } else if (/NetFront\\/(\\d+(?:\\.\\d+)*)/.test(ua)) {\n            this.netfront = RegExp.$1;\n        } else if (/Konqueror\\/(\\d+(?:\\.\\d+)*)/.test(ua)) {\n            this.konqueror = RegExp.$1;\n        } else if (ua.indexOf(\"(compatible;\") < 0\n                && (/^Mozilla\\/(\\d+\\.\\d+)/.test(ua))) {\n            this.mozilla = RegExp.$1;\n            if (/\\([^(]*rv:(\\d+(?:\\.\\d+)*).*?\\)/.test(ua))\n                this.mozillarv = RegExp.$1;\n            if (/Firefox\\/(\\d+(?:\\.\\d+)*)/.test(ua)) {\n                this.firefox = RegExp.$1;\n            } else if (/Netscape\\d?\\/(\\d+(?:\\.\\d+)*)/.test(ua)) {\n                this.netscape = RegExp.$1;\n            }\n        } else {\n            this.unknown = true;\n        }\n\n        if (ua.indexOf(\"Win 9x 4.90\") >= 0) {\n            this.windows = \"ME\";\n        } else if (/Win(?:dows)? ?(NT ?(\\d+\\.\\d+)?|\\d+|ME|Vista|XP)/.test(ua)) {\n            this.windows = RegExp.$1;\n            if (RegExp.$2) {\n                this.winnt = RegExp.$2;\n            } else switch (RegExp.$1) {\n                case \"2000\":   this.winnt = \"5.0\";  break;\n                case \"XP\":     this.winnt = \"5.1\";  break;\n                case \"Vista\":  this.winnt = \"6.0\";  break;\n            }\n        } else if (ua.indexOf(\"Mac\") >= 0) {\n            this.mac = true;\n        } else if (ua.indexOf(\"Linux\") >= 0) {\n            this.linux = true;\n        } else if (/(\\w*BSD)/.test(ua)) {\n            this.bsd = RegExp.$1;\n        } else if (ua.indexOf(\"SunOS\") >= 0) {\n            this.sunos = true;\n        }\n    }\n};\n\n\n/**\n * pseudo class: Lexer\n */\nvar Lexer = function(source) {\n    var proto = Lexer.prototype;\n    var tokens = source.match(proto.regs.token);\n    for (var i = 0, l = tokens.length; i < l; i ++) {\n        if (proto.regs.strip.test(tokens[i])) {\n            tokens.splice(i, 1);\n        }\n    }\n    for (var n in proto) tokens[n] = proto[n];\n    tokens.index = 0;\n    return tokens;\n};\n\nLexer.prototype.regs = {\n    token: /\\$?(?:(?![0-9-])[\\w-]+:)?(?![0-9-])[\\w-]+|\\/\\/|\\.\\.|::|\\d+(?:\\.\\d*)?|\\.\\d+|\"[^\"]*\"|'[^']*'|[!<>]=|(?![0-9-])[\\w-]+:\\*|\\s+|./g,\n    strip: /^\\s/\n};\n\nLexer.prototype.peek = function(i) {\n    return this[this.index + (i||0)];\n};\nLexer.prototype.next = function() {\n    return this[this.index++];\n};\nLexer.prototype.back = function() {\n    this.index--;\n};\nLexer.prototype.empty = function() {\n    return this.length <= this.index;\n};\n\n\n/**\n * class: Ctx\n */\nvar Ctx = function(node, position, last) {\n    this.node = node;\n    this.position = position || 1;\n    this.last = last || 1;\n};\n\n\n/**\n * abstract class: BaseExpr\n */\nvar BaseExpr = function() {};\n\nBaseExpr.prototype.number = function(ctx) {\n    var exrs = this.evaluate(ctx);\n    if (exrs.isNodeSet) return exrs.number();\n    return + exrs;\n};\n\nBaseExpr.prototype.string = function(ctx) {\n    var exrs = this.evaluate(ctx);\n    if (exrs.isNodeSet) return exrs.string();\n    return '' + exrs;\n};\n\nBaseExpr.prototype.bool = function(ctx) {\n    var exrs = this.evaluate(ctx);\n    if (exrs.isNodeSet) return exrs.bool();\n    return !! exrs;\n};\n\n\n/**\n * abstract class: BaseExprHasPredicates\n */\nvar BaseExprHasPredicates = function() {};\n\nBaseExprHasPredicates.parsePredicates = function(lexer, expr) {\n    while (lexer.peek() == '[') {\n        lexer.next();\n        if (lexer.empty()) {\n            throw Error('missing predicate expr');\n        }\n        var predicate = BinaryExpr.parse(lexer);\n        expr.predicate(predicate);\n        if (lexer.empty()) {\n            throw Error('unclosed predicate expr');\n        }\n        if (lexer.next() != ']') {\n            lexer.back();\n            throw Error('bad token: ' + lexer.next());\n        }\n    }\n};\n\nBaseExprHasPredicates.prototype = new BaseExpr();\n\nBaseExprHasPredicates.prototype.evaluatePredicates = function(nodeset, start) {\n    var predicates, predicate, nodes, node, nodeset, position, reverse;\n\n    reverse = this.reverse;\n    predicates = this.predicates;\n\n    nodeset.sort();\n\n    for (var i = start || 0, l0 = predicates.length; i < l0; i ++) {\n        predicate = predicates[i];\n\n        var deleteIndexes = [];\n        var nodes = nodeset.list();\n\n        for (var j = 0, l1 = nodes.length; j < l1; j ++) {\n\n            position = reverse ? (l1 - j) : (j + 1);\n            exrs = predicate.evaluate(new Ctx(nodes[j], position, l1));\n\n            switch (typeof exrs) {\n                case 'number':\n                    exrs = (position == exrs);\n                    break;\n                case 'string':\n                    exrs = !!exrs;\n                    break;\n                case 'object':\n                    exrs = exrs.bool();\n                    break;\n            }\n\n            if (!exrs) {\n                deleteIndexes.push(j);\n            }\n        }\n\n        for (var j = deleteIndexes.length - 1, l1 = 0; j >= l1; j --) {\n            nodeset.del(deleteIndexes[j]);\n        }\n\n    }\n\n    return nodeset;\n};\n\n\n/**\n * class: BinaryExpr\n */\nif (!window.BinaryExpr && window.defaultConfig)\n    window.BinaryExpr = null;\n\nBinaryExpr = function(op, left, right, datatype) {\n    this.op = op;\n    this.left = left;\n    this.right = right;\n\n    this.datatype = BinaryExpr.ops[op][2];\n\n    this.needContextPosition = left.needContextPosition || right.needContextPosition;\n    this.needContextNode = left.needContextNode || right.needContextNode;\n\n    // Optimize [@id=\"foo\"] and [@name=\"bar\"]\n    if (this.op == '=') {\n        if (!right.needContextNode && !right.needContextPosition && \n            right.datatype != 'nodeset' && right.datatype != 'void' && left.quickAttr) {\n            this.quickAttr = true;\n            this.attrName = left.attrName;\n            this.attrValueExpr = right;\n        }\n        else if (!left.needContextNode && !left.needContextPosition && \n            left.datatype != 'nodeset' && left.datatype != 'void' && right.quickAttr) {\n            this.quickAttr = true;\n            this.attrName = right.attrName;\n            this.attrValueExpr = left;\n        }\n    }\n};\n\nBinaryExpr.compare = function(op, comp, left, right, ctx) {\n    var type, lnodes, rnodes, nodes, nodeset, primitive;\n\n    left = left.evaluate(ctx);\n    right = right.evaluate(ctx);\n\n    if (left.isNodeSet && right.isNodeSet) {\n        lnodes = left.list();\n        rnodes = right.list();\n        for (var i = 0, l0 = lnodes.length; i < l0; i ++)\n            for (var j = 0, l1 = rnodes.length; j < l1; j ++)\n                if (comp(NodeUtil.to('string', lnodes[i]), NodeUtil.to('string', rnodes[j])))\n                    return true;\n        return false;\n    }\n\n    if (left.isNodeSet || right.isNodeSet) {\n        if (left.isNodeSet)\n            nodeset = left, primitive = right;\n        else\n            nodeset = right, primitive = left;\n\n        nodes = nodeset.list();\n        type = typeof primitive;\n        for (var i = 0, l = nodes.length; i < l; i ++) {\n            if (comp(NodeUtil.to(type, nodes[i]), primitive))\n                return true;\n        }\n        return false;\n    }\n\n    if (op == '=' || op == '!=') {\n        if (typeof left == 'boolean' || typeof right == 'boolean') {\n            return comp(!!left, !!right);\n        }\n        if (typeof left == 'number' || typeof right == 'number') {\n            return comp(+left, +right);\n        }\n        return comp(left, right);\n    }\n\n    return comp(+left, +right);\n};\n\n\nBinaryExpr.ops = {\n    'div': [6, function(left, right, ctx) {\n        return left.number(ctx) / right.number(ctx);\n    }, 'number'],\n    'mod': [6, function(left, right, ctx) {\n        return left.number(ctx) % right.number(ctx);\n    }, 'number'],\n    '*': [6, function(left, right, ctx) {\n        return left.number(ctx) * right.number(ctx);\n    }, 'number'],\n    '+': [5, function(left, right, ctx) {\n        return left.number(ctx) + right.number(ctx);\n    }, 'number'],\n    '-': [5, function(left, right, ctx) {\n        return left.number(ctx) - right.number(ctx);\n    }, 'number'],\n    '<': [4, function(left, right, ctx) {\n        return BinaryExpr.compare('<',\n                    function(a, b) { return a < b }, left, right, ctx);\n    }, 'boolean'],\n    '>': [4, function(left, right, ctx) {\n        return BinaryExpr.compare('>',\n                    function(a, b) { return a > b }, left, right, ctx);\n    }, 'boolean'],\n    '<=': [4, function(left, right, ctx) {\n        return BinaryExpr.compare('<=',\n                    function(a, b) { return a <= b }, left, right, ctx);\n    }, 'boolean'],\n    '>=': [4, function(left, right, ctx) {\n        return BinaryExpr.compare('>=',\n                    function(a, b) { return a >= b }, left, right, ctx);\n    }, 'boolean'],\n    '=': [3, function(left, right, ctx) {\n        return BinaryExpr.compare('=',\n                    function(a, b) { return a == b }, left, right, ctx);\n    }, 'boolean'],\n    '!=': [3, function(left, right, ctx) {\n        return BinaryExpr.compare('!=',\n                    function(a, b) { return a != b }, left, right, ctx);\n    }, 'boolean'],\n    'and': [2, function(left, right, ctx) {\n        return left.bool(ctx) && right.bool(ctx);\n    }, 'boolean'],\n    'or': [1, function(left, right, ctx) {\n        return left.bool(ctx) || right.bool(ctx);\n    }, 'boolean']\n};\n\n\nBinaryExpr.parse = function(lexer) {\n    var op, precedence, info, expr, stack = [], index = lexer.index;\n\n    while (true) {\n\n        if (lexer.empty()) {\n            throw Error('missing right expression');\n        }\n        expr = UnaryExpr.parse(lexer);\n\n        op = lexer.next();\n        if (!op) {\n            break;\n        }\n\n        info = this.ops[op];\n        precedence = info && info[0];\n        if (!precedence) {\n            lexer.back();\n            break;\n        }\n\n        while (stack.length && precedence <= this.ops[stack[stack.length-1]][0]) {\n            expr = new BinaryExpr(stack.pop(), stack.pop(), expr);\n        }\n\n        stack.push(expr, op);\n    }\n\n    while (stack.length) {\n        expr = new BinaryExpr(stack.pop(), stack.pop(), expr);\n    }\n\n    return expr;\n};\n\nBinaryExpr.prototype = new BaseExpr();\n\nBinaryExpr.prototype.evaluate = function(ctx) {\n    return BinaryExpr.ops[this.op][1](this.left, this.right, ctx);\n};\n\nBinaryExpr.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'binary: ' + this.op + '\\n';\n    indent += '    ';\n    t += this.left.show(indent);\n    t += this.right.show(indent);\n    return t;\n};\n\n\n/**\n * class: UnaryExpr\n */\nif (!window.UnaryExpr && window.defaultConfig)\n    window.UnaryExpr = null;\n\nUnaryExpr = function(op, expr) {\n    this.op = op;\n    this.expr = expr;\n\n    this.needContextPosition = expr.needContextPosition;\n    this.needContextNode = expr.needContextNode;\n};\n\nUnaryExpr.ops = { '-': 1 };\n\nUnaryExpr.parse = function(lexer) {\n    var token;\n    if (this.ops[lexer.peek()])\n        return new UnaryExpr(lexer.next(), UnaryExpr.parse(lexer));\n    else\n        return UnionExpr.parse(lexer);\n};\n\nUnaryExpr.prototype = new BaseExpr();\n\nUnaryExpr.prototype.datatype = 'number';\n\nUnaryExpr.prototype.evaluate = function(ctx) {\n    return - this.expr.number(ctx);\n};\n\nUnaryExpr.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'unary: ' + this.op + '\\n';\n    indent += '    ';\n    t += this.expr.show(indent);\n    return t;\n};\n\n\n/**\n * class: UnionExpr\n */\nif (!window.UnionExpr && window.defaultConfig)\n    window.UnionExpr = null;\n\nUnionExpr = function() {\n    this.paths = [];\n};\n\nUnionExpr.ops = { '|': 1 };\n\n\nUnionExpr.parse = function(lexer) {\n    var union, expr;\n\n    expr = PathExpr.parse(lexer);\n    if (!this.ops[lexer.peek()])\n        return expr;\n\n    union = new UnionExpr();\n    union.path(expr);\n\n    while (true) {\n        if (!this.ops[lexer.next()]) break;\n        if (lexer.empty()) {\n            throw Error('missing next union location path');\n        }\n        union.path(PathExpr.parse(lexer));\n    }\n\n\n\n    lexer.back();\n    return union;\n};\n\nUnionExpr.prototype = new BaseExpr();\n\nUnionExpr.prototype.datatype = 'nodeset';\n\nUnionExpr.prototype.evaluate = function(ctx) {\n    var paths = this.paths;\n    var nodeset = new NodeSet();\n    for (var i = 0, l = paths.length; i < l; i ++) {\n        var exrs = paths[i].evaluate(ctx);\n        if (!exrs.isNodeSet) throw Error('PathExpr must be nodeset');\n        nodeset.merge(exrs);\n    }\n    return nodeset;\n};\n\nUnionExpr.prototype.path = function(path) {\n    this.paths.push(path);\n\n    if (path.needContextPosition) {\n        this.needContextPosition = true;\n    }\n    if (path.needContextNode) {\n        this.needContextNode = true;\n    }\n}\nUnionExpr.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'union:' + '\\n';\n    indent += '    ';\n    for (var i = 0; i < this.paths.length; i ++) {\n        t += this.paths[i].show(indent);\n    }\n    return t;\n};\n\n\n/**\n * class: PathExpr\n */\nif (!window.PathExpr && window.defaultConfig)\n    window.PathExpr = null;\n\nPathExpr = function(filter) {\n    this.filter = filter;\n    this.steps = [];\n\n    this.datatype = filter.datatype;\n\n    this.needContextPosition = filter.needContextPosition;\n    this.needContextNode = filter.needContextNode;\n};\n\nPathExpr.ops = { '//': 1, '/': 1 };\n\nPathExpr.parse = function(lexer) {\n    var op, expr, path, token;\n\n    if (this.ops[lexer.peek()]) {\n        op = lexer.next();\n        token = lexer.peek();\n\n        if (op == '/' && (lexer.empty() || \n                (token != '.' && token != '..' && token != '@' && token != '*' && \n                !/(?![0-9])[\\w]/.test(token)))) { \n            return FilterExpr.root();\n        }\n\n        path = new PathExpr(FilterExpr.root()); // RootExpr\n\n        if (lexer.empty()) {\n            throw Error('missing next location step');\n        }\n        expr = Step.parse(lexer);\n        path.step(op, expr);\n    }\n    else {\n        expr = FilterExpr.parse(lexer);\n        if (!expr) {\n            expr = Step.parse(lexer);\n            path = new PathExpr(FilterExpr.context());\n            path.step('/', expr);\n        }\n        else if (!this.ops[lexer.peek()])\n            return expr;\n        else\n            path = new PathExpr(expr);\n    }\n\n    while (true) {\n        if (!this.ops[lexer.peek()]) break;\n        op = lexer.next();\n        if (lexer.empty()) {\n            throw Error('missing next location step');\n        }\n        path.step(op, Step.parse(lexer));\n    }\n\n    return path;\n};\n\nPathExpr.prototype = new BaseExpr();\n\nPathExpr.prototype.evaluate = function(ctx) {\n    var nodeset = this.filter.evaluate(ctx);\n    if (!nodeset.isNodeSet) throw Exception('Filter nodeset must be nodeset type');\n\n    var steps = this.steps;\n\n    for (var i = 0, l0 = steps.length; i < l0 && nodeset.length; i ++) {\n        var step = steps[i][1];\n        var reverse = step.reverse;\n        var iter = nodeset.iterator(reverse);\n        var prevNodeset = nodeset;\n        nodeset = null;\n        var node, next;\n        if (!step.needContextPosition && step.axis == 'following') {\n            for (node = iter(); next = iter(); node = next) {\n\n                // Safari 2 node.contains problem\n                if (uai.applewebkit2) {\n                    var contains = false;\n                    var ancestor = next;\n                    do {\n                        if (ancestor == node) {\n                            contains = true;\n                            break;\n                        }\n                    } while (ancestor = ancestor.parentNode);\n                    if (!contains) break;\n                }\n                else {\n                    try { if (!node.contains(next)) break }\n                    catch(e) { if (!(next.compareDocumentPosition(node) & 8)) break }\n                }\n            }\n            nodeset = step.evaluate(new Ctx(node));\n        }\n        else if (!step.needContextPosition && step.axis == 'preceding') {\n            node = iter();\n            nodeset = step.evaluate(new Ctx(node));\n        }\n        else {\n            node = iter();\n            var j = 0;\n            nodeset = step.evaluate(new Ctx(node), false, prevNodeset, j);\n            while (node = iter()) {\n                j ++;\n                nodeset.merge(step.evaluate(new Ctx(node), false, prevNodeset, j));\n            }\n        }\n    }\n\n    return nodeset;\n};\n\nPathExpr.prototype.step = function(op, step) {\n    step.op = op;\n    this.steps.push([op, step]);\n\n    this.quickAttr = false;\n\n    if (this.steps.length == 1) {\n        if (op == '/' && step.axis == 'attribute') {\n            var test = step.test;\n            if (!test.notOnlyElement && test.name != '*') {\n                this.quickAttr = true;\n                this.attrName = test.name;\n            }\n        }\n    }\n};\n\nPathExpr.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'path:' + '\\n';\n    indent += '    ';\n    t += indent + 'filter:' + '\\n';\n    t += this.filter.show(indent + '    ');\n    if (this.steps.length) {\n        t += indent + 'steps:' + '\\n';\n        indent += '    ';\n        for (var i = 0; i < this.steps.length; i ++) {\n            var step = this.steps[i];\n            t += indent + 'operator: ' + step[0] + '\\n';\n            t += step[1].show(indent);\n        }\n    }\n    return t;\n};\n\n\n/**\n * class: FilterExpr\n */\nif (!window.FilterExpr && window.defaultConfig)\n    window.FilterExpr = null;\n\nFilterExpr = function(primary) {\n    this.primary = primary;\n    this.predicates = [];\n\n    this.datatype = primary.datatype;\n\n    this.needContextPosition = primary.needContextPosition;\n\n    this.needContextNode = primary.needContextNode;\n};\n\nFilterExpr.parse = function(lexer) {\n    var expr, filter, token, ch;\n\n    token = lexer.peek();\n    ch = token.charAt(0);\n\n    switch (ch) {\n        case '$':\n            expr = VariableReference.parse(lexer);\n            break;\n\n        case '(':\n            lexer.next();\n            expr = BinaryExpr.parse(lexer);\n            if (lexer.empty()) {\n                throw Error('unclosed \"(\"');\n            }\n            if (lexer.next() != ')') {\n                lexer.back();\n                throw Error('bad token: ' + lexer.next());\n            }\n            break;\n\n        case '\"':\n        case \"'\":\n            expr = Literal.parse(lexer);\n            break;\n\n        default:\n            if (!isNaN(+token)) {\n                expr = Number.parse(lexer);\n            }\n\n            else if (NodeType.types[token]) {\n                return null;\n            }\n\n            else if (/(?![0-9])[\\w]/.test(ch) && lexer.peek(1) == '(') {\n                expr = FunctionCall.parse(lexer);\n            }\n            else {\n                return null;\n            }\n            break;\n    }\n\n    if (lexer.peek() != '[') return expr;\n\n    filter = new FilterExpr(expr);\n\n    BaseExprHasPredicates.parsePredicates(lexer, filter);\n\n    return filter;\n};\n\nFilterExpr.root = function() {\n    return new FunctionCall('root-node');\n};\nFilterExpr.context = function() {\n    return new FunctionCall('context-node');\n};\n\nFilterExpr.prototype = new BaseExprHasPredicates();\n\nFilterExpr.prototype.evaluate = function(ctx) {\n    var nodeset = this.primary.evaluate(ctx);\n    if(!nodeset.isNodeSet) {\n        if (this.predicates.length)\n            throw Error(\n                'Primary result must be nodeset type ' +\n                'if filter have predicate expression');\n        return nodeset;\n    }\n\n    return  this.evaluatePredicates(nodeset);\n};\n\nFilterExpr.prototype.predicate = function(predicate) {\n    this.predicates.push(predicate);\n};\n\nFilterExpr.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'filter: ' + '\\n';\n    indent += '    ';\n    t += this.primary.show(indent);\n    if (this.predicates.length) {\n        t += indent + 'predicates: ' + '\\n';\n        indent += '    ';\n        for (var i = 0; i < this.predicates.length; i ++) {\n            t += this.predicates[i].show(indent);\n        }\n    }\n    return t;\n};\n\n\nif (!window.NodeUtil && window.defaultConfig)\n    window.NodeUtil = null;\n\nNodeUtil = {\n    to: function(valueType, node) {\n        var t, type = node.nodeType;\n        // Safari2: innerText contains some bugs\n        if (type == 1 && config.useInnerText && !uai.applewebkit2) {\n            t = node.textContent;\n            t = (t == undefined || t == null) ? node.innerText : t;\n            t = (t == undefined || t == null) ? '' : t;\n        }\n        if (typeof t != 'string') {\n/*@cc_on\n            if (type == 1 && node.nodeName.toLowerCase() == 'title') {\n                t = node.text;\n            }\n            else\n@*/\n            if (type == 9 || type == 1) {\n                if (type == 9) {\n                    node =  node.documentElement;\n                }\n                else {\n                    node = node.firstChild;\n                }\n                for (t = '', stack = [], i = 0; node;) {\n                    do {\n                        if (node.nodeType != 1) {\n                            t += node.nodeValue;\n                        }\n/*@cc_on\n                        else if (node.nodeName.toLowerCase() == 'title') {\n                            t += node.text;\n                        }\n@*/\n                        stack[i++] = node; // push\n                    } while (node = node.firstChild);\n                    while (i && !(node = stack[--i].nextSibling)) {}\n                }\n            }\n            else {\n                t = node.nodeValue;\n            }\n        }\n        switch (valueType) {\n            case 'number':\n                return + t;\n            case 'boolean':\n                return !! t;\n            default:\n                return t;\n        }\n    },\n    attrPropMap: {\n        name: 'name',\n        'class': 'className',\n        dir: 'dir',\n        id: 'id',\n        name: 'name',\n        title: 'title'\n    },\n    attrMatch: function(node, attrName, attrValue) {\n/*@cc_on @if (@_jscript)\n        var propName = NodeUtil.attrPropMap[attrName];\n        if (!attrName ||\n            attrValue == null && (\n                propName && node[propName] ||\n                !propName && node.getAttribute && node.getAttribute(attrName, 2)\n            ) ||\n            attrValue != null && (\n                propName && node[propName] == attrValue ||\n                !propName && node.getAttribute && node.getAttribute(attrName, 2) == attrValue\n            )) {\n@else @*/\n        if (!attrName ||\n            attrValue == null && node.hasAttribute && node.hasAttribute(attrName) ||\n            attrValue != null && node.getAttribute && node.getAttribute(attrName) == attrValue) {\n/*@end @*/\n            return true;\n        }\n        else {\n            return false;\n        }\n    },\n    getDescendantNodes: function(test, node, nodeset, attrName, attrValue, prevNodeset, prevIndex) {\n        if (prevNodeset) {\n            prevNodeset.delDescendant(node, prevIndex);\n        }\n/*@cc_on\n        try {\n            if (!test.notOnlyElement || test.type == 8 || (attrName && test.type == 0)) {\n\n                var all = node.all;\n                if (!all) {\n                    return nodeset;\n                }\n\n                var name = test.name;\n                if (test.type == 8) name = '!';\n                else if (test.type == 0) name = '*';\n\n                if (name != '*') {\n                    all = all.tags(name);\n                    if (!all) {\n                        return nodeset;\n                    }\n                }\n\n                if (attrName) {\n                    var result = []\n                    var i = 0;\n                    if (attrValue != null && (attrName == 'id' || attrName == 'name')) {\n                        all = all[attrValue];\n                        if (!all) {\n                            return nodeset;\n                        }\n                        if (!all.length || all.nodeType) {\n                            all = [all];\n                        }\n                    }\n        \n                    while (node = all[i++]) {\n                        if (NodeUtil.attrMatch(node, attrName, attrValue)) result.push(node);\n                    }\n\n                    all = result;\n                }\n\n                var i = 0;\n                while (node = all[i++]) {\n                    if (name != '*' || node.tagName != '!') {\n                        nodeset.push(node);\n                    }\n                }\n\n                return nodeset;\n            }\n\n            (function (parent) {\n                var g = arguments.callee;\n                var node = parent.firstChild;\n                if (node) {\n                    for (; node; node = node.nextSibling) {\n                        if (NodeUtil.attrMatch(node, attrName, attrValue)) {\n                            if (test.match(node)) nodeset.push(node);\n                        }\n                        g(node);\n                    }\n                }\n            })(node);\n\n            return nodeset;\n        }\n        catch(e) {\n@*/\n        if (attrValue && attrName == 'id' && node.getElementById) {\n            node = node.getElementById(attrValue);\n            if (node && test.match(node)) {\n                nodeset.push(node);\n            }\n        }\n        else if (attrValue && attrName == 'name' && node.getElementsByName) {\n            var nodes = node.getElementsByName(attrValue);\n            for (var i = 0, l = nodes.length; i < l; i ++) {\n                node = nodes[i];\n                if (uai.opera ? (node.name == attrValue && test.match(node)) : test.match(node)) {\n                    nodeset.push(node);\n                }\n            }\n        }\n        else if (attrValue && attrName == 'class' && node.getElementsByClassName) {\n            var nodes = node.getElementsByClassName(attrValue);\n            for (var i = 0, l = nodes.length; i < l; i ++) {\n                node = nodes[i];\n                if (node.className == attrValue && test.match(node)) {\n                    nodeset.push(node);\n                }\n            }\n        }\n        else if (test.notOnlyElement) {\n            (function (parent) {\n                var f = arguments.callee;\n                for (var node = parent.firstChild; node; node = node.nextSibling) {\n                    if (NodeUtil.attrMatch(node, attrName, attrValue)) {\n                        if (test.match(node.nodeType)) nodeset.push(node);\n                    }\n                    f(node);\n                }\n            })(node);\n        }\n        else {\n            var name = test.name;\n            if (node.getElementsByTagName) {\n                var nodes = node.getElementsByTagName(name);\n                if (nodes) {\n                    var i = 0;\n                    while (node = nodes[i++]) {\n                        if (NodeUtil.attrMatch(node, attrName, attrValue)) nodeset.push(node);\n                    }\n                }\n            }\n        }\n        return nodeset;\n/*@cc_on\n        }\n@*/\n    },\n\n    getChildNodes: function(test, node, nodeset, attrName, attrValue) {\n\n/*@cc_on\n        try {\n            var children;\n\n            if ((!test.notOnlyElement || test.type == 8 || (attrName && test.type == 0)) && (children = node.children)) {\n                var name, elm;\n\n                name = test.name;\n                if (test.type == 8) name = '!';\n                else if (test.type == 0) name = '*';\n\n                if (name != '*') {\n                    children = children.tags(name);\n                    if (!children) {\n                        return nodeset;\n                    }\n                }\n\n                if (attrName) {\n                    var result = []\n                    var i = 0;\n                    if (attrName == 'id' || attrName == 'name') {\n                        children = children[attrValue];\n        \n                        if (!children) {\n                            return nodeset;\n                        }\n        \n                        if (!children.length || children.nodeType) {\n                            children = [children];\n                        }\n                    }\n        \n                    while (node = children[i++]) {\n                        if (NodeUtil.attrMatch(node, attrName, attrValue)) result.push(node);\n                    }\n                    children = result;\n                }\n\n                var i = 0;\n                while (node = children[i++]) {\n                    if (name != '*' || node.tagName != '!') {\n                        nodeset.push(node);\n                    }\n                }\n\n                return nodeset;\n            }\n\n            for (var i = 0, node = node.firstChild; node; i++, node = node.nextSibling) {\n                if (NodeUtil.attrMatch(node, attrName, attrValue)) {\n                    if (test.match(node)) nodeset.push(node);\n                }\n            }\n\n            return nodeset;\n        } catch(e) {\n@*/\n        for (var node = node.firstChild; node; node = node.nextSibling) {\n            if (NodeUtil.attrMatch(node, attrName, attrValue)) {\n                if (test.match(node)) nodeset.push(node);\n            }\n        }\n        return nodeset;\n/*@cc_on\n        }\n@*/\n    }\n};\n\n/*@cc_on\nvar AttributeWrapper = function(node, parent, sourceIndex) {\n    this.node = node;\n    this.nodeType = 2;\n    this.nodeValue = node.nodeValue;\n    this.nodeName = node.nodeName;\n    this.parentNode = parent;\n    this.ownerElement = parent;\n    this.parentSourceIndex = sourceIndex;\n};\n\n@*/\n\n\n/**\n * class: Step\n */\nif (!window.Step && window.defaultConfig)\n    window.Step = null;\n\nStep = function(axis, test) {\n    // TODO check arguments and throw axis error\n    this.axis = axis;\n    this.reverse = Step.axises[axis][0];\n    this.func = Step.axises[axis][1];\n    this.test = test;\n    this.predicates = [];\n    this._quickAttr = Step.axises[axis][2]\n};\n\nStep.axises = {\n\n    ancestor: [true, function(test, node, nodeset, _, __, prevNodeset, prevIndex) {\n        while (node = node.parentNode) {\n            if (prevNodeset && node.nodeType == 1) {\n                prevNodeset.reserveDelByNode(node, prevIndex, true);\n            }\n            if (test.match(node)) nodeset.unshift(node);\n        }\n        return nodeset;\n    }],\n\n    'ancestor-or-self': [true, function(test, node, nodeset, _, __, prevNodeset, prevIndex) {\n        do {\n            if (prevNodeset && node.nodeType == 1) {\n                prevNodeset.reserveDelByNode(node, prevIndex, true);\n            }\n            if (test.match(node)) nodeset.unshift(node);\n        } while (node = node.parentNode)\n        return nodeset;\n    }],\n\n    attribute: [false, function(test, node, nodeset) {\n        var attrs = node.attributes;\n        if (attrs) {\n/*@cc_on\n            var sourceIndex = node.sourceIndex;\n@*/\n            if ((test.notOnlyElement && test.type == 0) || test.name == '*') {\n                for (var i = 0, attr; attr = attrs[i]; i ++) {\n/*@cc_on @if (@_jscript)\n                    if (attr.nodeValue) {\n                        nodeset.push(new AttributeWrapper(attr, node, sourceIndex));\n                    }\n@else @*/\n                    nodeset.push(attr);\n/*@end @*/\n                }\n            }\n            else {\n                var attr = attrs.getNamedItem(test.name);\n                \n/*@cc_on @if (@_jscript)\n                if (attr && attr.nodeValue) {\n                    attr = new AttributeWrapper(attr, node, sourceIndex);;\n@else @*/\n                if (attr) {\n/*@end @*/\n                    nodeset.push(attr);\n                }\n            }\n        }\n        return nodeset;\n    }],\n\n    child: [false, NodeUtil.getChildNodes, true],\n\n    descendant: [false, NodeUtil.getDescendantNodes, true],\n\n    'descendant-or-self': [false, function(test, node, nodeset, attrName, attrValue, prevNodeset, prevIndex) {\n        if (NodeUtil.attrMatch(node, attrName, attrValue)) {\n            if (test.match(node)) nodeset.push(node);\n        }\n        return NodeUtil.getDescendantNodes(test, node, nodeset, attrName, attrValue, prevNodeset, prevIndex);\n    }, true],\n\n    following: [false, function(test, node, nodeset, attrName, attrValue) {\n        do {\n            var child = node;\n            while (child = child.nextSibling) {\n                if (NodeUtil.attrMatch(child, attrName, attrValue)) {\n                    if (test.match(child)) nodeset.push(child);\n                }\n                nodeset = NodeUtil.getDescendantNodes(test, child, nodeset, attrName, attrValue);\n            }\n        } while (node = node.parentNode);\n        return nodeset;\n    }, true],\n\n    'following-sibling': [false, function(test, node, nodeset, _, __, prevNodeset, prevIndex) {\n        while (node = node.nextSibling) {\n\n            if (prevNodeset && node.nodeType == 1) {\n                prevNodeset.reserveDelByNode(node, prevIndex);\n            }\n\n            if (test.match(node)) {\n                nodeset.push(node);\n            }\n        }\n        return nodeset;\n    }],\n\n    namespace: [false, function(test, node, nodeset) {\n        // not implemented\n        return nodeset;\n    }],\n\n    parent: [false, function(test, node, nodeset) {\n        if (node.nodeType == 9) {\n            return nodeset;\n        }\n        if (node.nodeType == 2) {\n            nodeset.push(node.ownerElement);\n            return nodeset;\n        }\n        var node = node.parentNode;\n        if (test.match(node)) nodeset.push(node);\n        return nodeset;\n    }],\n\n    preceding: [true, function(test, node, nodeset, attrName, attrValue) {\n        var parents = [];\n        do {\n            parents.unshift(node);\n        } while (node = node.parentNode);\n\n        for (var i = 1, l0 = parents.length; i < l0; i ++) {\n            var siblings = [];\n            node = parents[i];\n            while (node = node.previousSibling) {\n                siblings.unshift(node);\n            }\n\n            for (var j = 0, l1 = siblings.length; j < l1; j ++) {\n                node = siblings[j];\n                if (NodeUtil.attrMatch(node, attrName, attrValue)) {\n                    if (test.match(node)) nodeset.push(node);\n                }\n                nodeset = NodeUtil.getDescendantNodes(test, node, nodeset, attrName, attrValue);\n            }\n        }\n        return nodeset;\n    }, true],\n\n    'preceding-sibling': [true, function(test, node, nodeset, _, __, prevNodeset, prevIndex) {\n        while (node = node.previousSibling) {\n\n            if (prevNodeset && node.nodeType == 1) {\n                prevNodeset.reserveDelByNode(node, prevIndex, true);\n            }\n\n            if (test.match(node)) {\n                nodeset.unshift(node)\n            }\n        }\n        return nodeset;\n    }],\n\n    self: [false, function(test, node, nodeset) {\n        if (test.match(node)) nodeset.push(node);\n        return nodeset;\n    }]\n};\n\nStep.parse = function(lexer) {\n    var axis, test, step, token;\n\n    if (lexer.peek() == '.') {\n        step = this.self();\n        lexer.next();\n    }\n    else if (lexer.peek() == '..') {\n        step = this.parent();\n        lexer.next();\n    }\n    else {\n        if (lexer.peek() == '@') {\n            axis = 'attribute';\n            lexer.next();\n            if (lexer.empty()) {\n                throw Error('missing attribute name');\n            }\n        }\n        else {\n            if (lexer.peek(1) == '::') {\n                \n                if (!/(?![0-9])[\\w]/.test(lexer.peek().charAt(0))) {\n                    throw Error('bad token: ' + lexer.next());\n                }\n        \n                axis = lexer.next();\n                lexer.next();\n\n                if (!this.axises[axis]) {\n                    throw Error('invalid axis: ' + axis);\n                }\n                if (lexer.empty()) {\n                    throw Error('missing node name');\n                }\n            }\n            else {\n                axis = 'child';\n            }\n        }\n    \n        token = lexer.peek();\n        if (!/(?![0-9])[\\w]/.test(token.charAt(0))) {\n            if (token == '*') {\n                test = NameTest.parse(lexer)\n            }\n            else {\n                throw Error('bad token: ' + lexer.next());\n            }\n        }\n        else {\n            if (lexer.peek(1) == '(') {\n                if (!NodeType.types[token]) {\n                    throw Error('invalid node type: ' + token);\n                }\n                test = NodeType.parse(lexer)\n            }\n            else {\n                test = NameTest.parse(lexer);\n            }\n        }\n        step = new Step(axis, test);\n    }\n\n    BaseExprHasPredicates.parsePredicates(lexer, step);\n\n    return step;\n};\n\nStep.self = function() {\n    return new Step('self', new NodeType('node'));\n};\n\nStep.parent = function() {\n    return new Step('parent', new NodeType('node'));\n};\n\nStep.prototype = new BaseExprHasPredicates();\n\nStep.prototype.evaluate = function(ctx, special, prevNodeset, prevIndex) {\n    var node = ctx.node;\n    var reverse = false;\n\n    if (!special && this.op == '//') {\n\n        if (!this.needContextPosition && this.axis == 'child') {\n            if (this.quickAttr) {\n                var attrValue = this.attrValueExpr ? this.attrValueExpr.string(ctx) : null;\n                var nodeset = NodeUtil.getDescendantNodes(this.test, node, new NodeSet(), this.attrName, attrValue, prevNodeset, prevIndex);\n                nodeset = this.evaluatePredicates(nodeset, 1);\n            }\n            else {\n                var nodeset = NodeUtil.getDescendantNodes(this.test, node, new NodeSet(), null, null, prevNodeset, prevIndex);\n                nodeset = this.evaluatePredicates(nodeset);\n            }\n        }\n        else {\n            var step = new Step('descendant-or-self', new NodeType('node'));\n            var nodes = step.evaluate(ctx, false, prevNodeset, prevIndex).list();\n            var nodeset = null;\n            step.op = '/';\n            for (var i = 0, l = nodes.length; i < l; i ++) {\n                if (!nodeset) {\n                    nodeset = this.evaluate(new Ctx(nodes[i]), true);\n                }\n                else {\n                    nodeset.merge(this.evaluate(new Ctx(nodes[i]), true));\n                }\n            }\n            nodeset = nodeset || new NodeSet();\n        }\n    }\n    else {\n\n        if (this.needContextPosition) {\n            prevNodeset = null;\n            prevIndex = null;\n        }\n\n        if (this.quickAttr) {\n            var attrValue = this.attrValueExpr ? this.attrValueExpr.string(ctx) : null;\n            var nodeset = this.func(this.test, node, new NodeSet(), this.attrName, attrValue, prevNodeset, prevIndex);\n            nodeset = this.evaluatePredicates(nodeset, 1);\n        }\n        else {\n            var nodeset = this.func(this.test, node, new NodeSet(), null, null, prevNodeset, prevIndex);\n            nodeset = this.evaluatePredicates(nodeset);\n        }\n        if (prevNodeset) {\n            prevNodeset.doDel();\n        }\n    }\n    return nodeset;\n};\n\nStep.prototype.predicate = function(predicate) {\n    this.predicates.push(predicate);\n\n    if (predicate.needContextPosition ||\n        predicate.datatype == 'number'||\n        predicate.datatype == 'void') {\n        this.needContextPosition = true;\n    }\n\n    if (this._quickAttr && this.predicates.length == 1 && predicate.quickAttr) {\n        var attrName = predicate.attrName;\n/*@cc_on @if (@_jscript)\n        this.attrName = attrName.toLowerCase();\n@else @*/\n        this.attrName = attrName;\n/*@end @*/\n        this.attrValueExpr = predicate.attrValueExpr;\n        this.quickAttr = true;\n    }\n};\n\nStep.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'step: ' + '\\n';\n    indent += '    ';\n    if (this.axis) t += indent + 'axis: ' + this.axis + '\\n';\n    t += this.test.show(indent);\n    if (this.predicates.length) {\n        t += indent + 'predicates: ' + '\\n';\n        indent += '    ';\n        for (var i = 0; i < this.predicates.length; i ++) {\n            t += this.predicates[i].show(indent);\n        }\n    }\n    return t;\n};\n\n\n\n/**\n * NodeType\n */\nif (!window.NodeType && window.defaultConfig)\n    window.NodeType = null;\n    \nNodeType = function(name, literal) {\n    this.name = name;\n    this.literal = literal;\n\n    switch (name) {\n        case 'comment':\n            this.type = 8;\n            break;\n        case 'text':\n            this.type = 3;\n            break;\n        case 'processing-instruction':\n            this.type = 7;\n            break;\n        case 'node':\n            this.type = 0;\n            break;\n    }\n};\n\nNodeType.types = {\n    'comment':1, 'text':1, 'processing-instruction':1, 'node':1\n};\n\nNodeType.parse = function(lexer) {\n    var type, literal, ch;\n    type = lexer.next();\n    lexer.next();\n    if (lexer.empty()) {\n        throw Error('bad nodetype');\n    }\n    ch = lexer.peek().charAt(0);\n    if (ch == '\"' || ch == \"'\") {\n        literal = Literal.parse(lexer);\n    }\n    if (lexer.empty()) {\n        throw Error('bad nodetype');\n    }\n    if (lexer.next() != ')') {\n        lexer.back();\n        throw Error('bad token ' + lexer.next());\n    }\n    return new NodeType(type, literal);\n};\n\nNodeType.prototype = new BaseExpr();\n\nNodeType.prototype.notOnlyElement = true;\n\nNodeType.prototype.match = function(node) {\n    return !this.type || this.type == node.nodeType;\n};\n\nNodeType.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'nodetype: ' + this.type + '\\n';\n    if (this.literal) {\n        indent += '    ';\n        t += this.literal.show(indent);\n    }\n    return t;\n};\n\n\n/**\n * NodeType\n */\nif (!window.NameTest && window.defaultConfig)\n    window.NameTest = null;\n\nNameTest = function(name) {\n    this.name = name.toLowerCase();\n};\n\nNameTest.parse = function(lexer) {\n    if (lexer.peek() != '*' &&  lexer.peek(1) == ':' && lexer.peek(2) == '*') {\n        return new NameTest(lexer.next() + lexer.next() + lexer.next());\n    }\n    return new NameTest(lexer.next());\n};\n\nNameTest.prototype = new BaseExpr();\n\nNameTest.prototype.match = function(node) {\n    var type = node.nodeType;\n\n    if (type == 1 || type == 2) {\n        if (this.name == '*' || this.name == node.nodeName.toLowerCase()) {\n            return true;\n        }\n    }\n    return false;\n};\n\nNameTest.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'nametest: ' + this.name + '\\n';\n    return t;\n};\n\n\n/**\n * class: VariableRefernce\n */\nif (!window.VariableReference && window.defaultConfig)\n    window.VariableReference = null;\n    \nVariableReference = function(name) {\n    this.name = name.substring(1);\n};\n\n\nVariableReference.parse = function(lexer) {\n    var token = lexer.next();\n    if (token.length < 2) {\n        throw Error('unnamed variable reference');\n    }\n    return new VariableReference(token)\n};\n\nVariableReference.prototype = new BaseExpr();\n\nVariableReference.prototype.datatype = 'void';\n\nVariableReference.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'variable: ' + this.name + '\\n';\n    return t;\n};\n\n\n/**\n * class: Literal\n */\nif (!window.Literal && window.defaultConfig)\n    window.Literal = null;\n\nLiteral = function(text) {\n    this.text = text.substring(1, text.length - 1);\n};\n\nLiteral.parse = function(lexer) {\n    var token = lexer.next();\n    if (token.length < 2) {\n        throw Error('unclosed literal string');\n    }\n    return new Literal(token)\n};\n\nLiteral.prototype = new BaseExpr();\n\nLiteral.prototype.datatype = 'string';\n\nLiteral.prototype.evaluate = function(ctx) {\n    return this.text;\n};\n\nLiteral.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'literal: ' + this.text + '\\n';\n    return t;\n};\n\n\n/**\n * class: Number\n */\nif (!window.Number && window.defaultConfig)\n    window.Number = null;\n\nNumber = function(digit) {\n    this.digit = +digit;\n};\n\n\nNumber.parse = function(lexer) {\n    return new Number(lexer.next());\n};\n\nNumber.prototype = new BaseExpr();\n\nNumber.prototype.datatype = 'number';\n\nNumber.prototype.evaluate = function(ctx) {\n    return this.digit;\n};\n\nNumber.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'number: ' + this.digit + '\\n';\n    return t;\n};\n\n\n/**\n * class: FunctionCall\n */\nif (!window.FunctionCall && window.defaultConfig)\n    window.FunctionCall = null;\n\nFunctionCall = function(name) {\n    var info = FunctionCall.funcs[name];\n    if (!info)\n        throw Error(name +' is not a function');\n\n    this.name = name;\n    this.func = info[0];\n    this.args = [];\n\n    this.datatype = info[1];\n\n    if (info[2]) {\n        this.needContextPosition = true;\n    }\n\n    this.needContextNodeInfo = info[3];\n    this.needContextNode = this.needContextNodeInfo[0]\n};\n\nFunctionCall.funcs = {\n\n    // Original Function\n    'context-node': [function() {\n        if (arguments.length != 0) {\n            throw Error('Function context-node expects ()');\n        }\n        var ns;\n        ns = new NodeSet();\n        ns.push(this.node);\n        return ns;\n    }, 'nodeset', false, [true]],\n\n    // Original Function\n    'root-node': [function() {\n        if (arguments.length != 0) {\n            throw Error('Function root-node expects ()');\n        }\n        var ns, ctxn;\n        ns = new NodeSet();\n        ctxn = this.node;\n        if (ctxn.nodeType == 9)\n            ns.push(ctxn);\n        else\n            ns.push(ctxn.ownerDocument);\n        return ns;\n    }, 'nodeset', false, []],\n\n    last: [function() {\n        if (arguments.length != 0) {\n            throw Error('Function last expects ()');\n        }\n        return this.last;\n    }, 'number', true, []],\n\n    position: [function() {\n        if (arguments.length != 0) {\n            throw Error('Function position expects ()');\n        }\n        return this.position;\n    }, 'number', true, []],\n\n    count: [function(ns) {\n        if (arguments.length != 1 || !(ns = ns.evaluate(this)).isNodeSet) {\n            throw Error('Function count expects (nodeset)');\n        }\n        return ns.length;\n    }, 'number', false, []],\n\n    id: [function(s) {\n        var ids, ns, i, id, elm, ctxn, doc;\n        if (arguments.length != 1) {\n            throw Error('Function id expects (object)');\n        }\n        ctxn = this.node;\n        if (ctxn.nodeType == 9)\n            doc = ctxn;\n        else\n            doc = ctxn.ownerDocument;\n/*@cc_on\n        all = doc.all;\n@*/\n        s = s.string(this);\n        ids = s.split(/\\s+/);\n        ns = new NodeSet();\n        for (i = 0, l = ids.length; i < l; i ++) {\n            id = ids[i];\n\n/*@cc_on @if (@_jscript)\n            elm = all[id];\n            if (elm) {\n                if ((!elm.length || elm.nodeType) && id == elm.id) {\n                    ns.push(elm)\n                }\n                else if (elm.length) {\n                    var elms = elm;\n                    for (var j = 0, l0 = elms.length; j < l0; j ++) {\n                        var elem = elms[j];\n                        if (id == elem.id) {\n                            ns.push(elem);\n                            break;\n                        }\n                    }\n                }\n            }\n@else @*/\n            elm = doc.getElementById(id);\n            if (uai.opera && elm && elm.id != id) {\n                var elms = doc.getElementsByName(id);\n                for (var j = 0, l0 = elms.length; j < l0; j ++) {\n                    elm = elms[j];\n                    if (elm.id == id) {\n                        ns.push(elm);\n                    }\n                }\n            }\n            else {\n                if (elm) ns.push(elm)\n            }\n/*@end @*/\n\n        }\n        ns.isSorted = false;\n        return ns;\n    }, 'nodeset', false, []],\n\n    'local-name': [function(ns) {\n        var nd;\n        switch (arguments.length) {\n            case 0:\n                nd = this.node;\n                break;\n            case 1:\n                if ((ns = ns.evaluate(this)).isNodeSet) {\n                    nd = ns.first();\n                    break;\n                }\n            default:\n                throw Error('Function local-name expects (nodeset?)');\n                break;\n        }\n        return '' + nd.nodeName.toLowerCase();\n    }, 'string', false, [true, false]],\n\n    name: [function(ns) {\n        // not implemented\n        return FunctionCall.funcs['local-name'][0].apply(this, arguments);\n    }, 'string', false, [true, false]],\n\n    'namespace-uri': [function(ns) {\n        // not implemented\n        return '';\n    }, 'string', false, [true, false]],\n\n    string: [function(s) {\n        switch (arguments.length) {\n            case 0:\n                s = NodeUtil.to('string', this.node);\n                break;\n            case 1:\n                s = s.string(this);\n                break;\n            default:\n                throw Error('Function string expects (object?)');\n                break;\n        }\n        return s;\n    }, 'string', false, [true, false]],\n\n    concat: [function(s1, s2) {\n        if (arguments.length < 2) {\n            throw Error('Function concat expects (string, string[, ...])');\n        }\n        for (var t = '', i = 0, l = arguments.length; i < l; i ++) {\n            t += arguments[i].string(this);\n        }\n        return t;\n    }, 'string', false, []],\n\n    'starts-with': [function(s1, s2) {\n        if (arguments.length != 2) {\n            throw Error('Function starts-with expects (string, string)');\n        }\n        s1 = s1.string(this);\n        s2 = s2.string(this);\n        return s1.indexOf(s2) == 0;\n    }, 'boolean', false, []],\n\n    contains: [function(s1, s2) {\n        if (arguments.length != 2) {\n            throw Error('Function contains expects (string, string)');\n        }\n        s1 = s1.string(this);\n        s2 = s2.string(this);\n        return s1.indexOf(s2) != -1;\n    }, 'boolean', false, []],\n\n    substring: [function(s, n1, n2) {\n        var a1, a2;\n        s = s.string(this);\n        n1 = n1.number(this);\n        switch (arguments.length) {\n            case 2:\n                n2 = s.length - n1 + 1;\n                break;\n            case 3:\n                n2 = n2.number(this);\n                break;\n            default:\n                throw Error('Function substring expects (string, string)');\n                break;\n        }\n        n1 = Math.round(n1);\n        n2 = Math.round(n2);\n        a1 = n1 - 1;\n        a2 = n1 + n2 - 1;\n        if (a2 == Infinity) {\n            return s.substring(a1 < 0 ? 0 : a1);\n        }\n        else {\n            return s.substring(a1 < 0 ? 0 : a1, a2)\n        }\n    }, 'string', false, []],\n\n    'substring-before': [function(s1, s2) {\n        var n;\n        if (arguments.length != 2) {\n            throw Error('Function substring-before expects (string, string)');\n        }\n        s1 = s1.string(this);\n        s2 = s2.string(this);\n        n = s1.indexOf(s2);\n        if (n == -1) return '';\n        return s1.substring(0, n);\n    }, 'string', false, []],\n\n    'substring-after': [function(s1, s2) {\n        if (arguments.length != 2) {\n            throw Error('Function substring-after expects (string, string)');\n        }\n        s1 = s1.string(this);\n        s2 = s2.string(this);\n        var n = s1.indexOf(s2);\n        if (n == -1) return '';\n        return s1.substring(n + s2.length);\n    }, 'string', false, []],\n\n    'string-length': [function(s) {\n        switch (arguments.length) {\n            case 0:\n                s = NodeUtil.to('string', this.node);\n                break;\n            case 1:\n                s = s.string(this);\n                break;\n            default:\n                throw Error('Function string-length expects (string?)');\n                break;\n        }\n        return s.length;\n    }, 'number', false, [true, false]],\n\n    'normalize-space': [function(s) {\n        switch (arguments.length) {\n            case 0:\n                s = NodeUtil.to('string', this.node);\n                break;\n            case 1:\n                s = s.string(this);\n                break;\n            default:\n                throw Error('Function normalize-space expects (string?)');\n                break;\n        }\n        return s.replace(/\\s+/g, ' ').replace(/^ /, '').replace(/ $/, '');\n    }, 'string', false, [true, false]],\n\n    translate: [function(s1, s2, s3) {\n        if (arguments.length != 3) {\n            throw Error('Function translate expects (string, string, string)');\n        }\n        s1 = s1.string(this);\n        s2 = s2.string(this);\n        s3 = s3.string(this);\n\n        var map = [];\n        for (var i = 0, l = s2.length; i < l; i ++) {\n            var ch = s2.charAt(i);\n            if (!map[ch]) map[ch] = s3.charAt(i) || '';\n        }\n        for (var t = '', i = 0, l = s1.length; i < l; i ++) {\n            var ch = s1.charAt(i);\n            var replace = map[ch]\n            t += (replace != undefined) ? replace : ch;\n        }\n        return t;\n    }, 'string', false, []],\n\n    'boolean': [function(b) {\n        if (arguments.length != 1) {\n            throw Error('Function boolean expects (object)');\n        }\n        return b.bool(this)\n    }, 'boolean', false, []],\n\n    not: [function(b) {\n        if (arguments.length != 1) {\n            throw Error('Function not expects (object)');\n        }\n        return !b.bool(this)\n    }, 'boolean', false, []],\n\n    'true': [function() {\n        if (arguments.length != 0) {\n            throw Error('Function true expects ()');\n        }\n        return true;\n    }, 'boolean', false, []],\n\n    'false': [function() {\n        if (arguments.length != 0) {\n            throw Error('Function false expects ()');\n        }\n        return false;\n    }, 'boolean', false, []],\n\n    lang: [function(s) {\n        // not implemented\n        return false;\n    }, 'boolean', false, []],\n\n    number: [function(n) {\n        switch (arguments.length) {\n            case 0:\n                n = NodeUtil.to('number', this.node);\n                break;\n            case 1:\n                n = n.number(this);\n                break;\n            default:\n                throw Error('Function number expects (object?)');\n                break;\n        }\n        return n;\n    }, 'number', false, [true, false]],\n\n    sum: [function(ns) {\n        var nodes, n, i, l;\n        if (arguments.length != 1 || !(ns = ns.evaluate(this)).isNodeSet) {\n            throw Error('Function sum expects (nodeset)');\n        }\n        nodes = ns.list();\n        n = 0;\n        for (i = 0, l = nodes.length; i < l; i ++) {\n            n += NodeUtil.to('number', nodes[i]);\n        }\n        return n;\n    }, 'number', false, []],\n\n    floor: [function(n) {\n        if (arguments.length != 1) {\n            throw Error('Function floor expects (number)');\n        }\n        n = n.number(this);\n        return Math.floor(n);\n    }, 'number', false, []],\n\n    ceiling: [function(n) {\n        if (arguments.length != 1) {\n            throw Error('Function ceiling expects (number)');\n        }\n        n = n.number(this);\n        return Math.ceil(n);\n    }, 'number', false, []],\n\n    round: [function(n) {\n        if (arguments.length != 1) {\n            throw Error('Function round expects (number)');\n        }\n        n = n.number(this);\n        return Math.round(n);\n    }, 'number', false, []]\n};\n\nFunctionCall.parse = function(lexer) {\n    var expr, func = new FunctionCall(lexer.next());\n    lexer.next();\n    while (lexer.peek() != ')') {\n        if (lexer.empty()) {\n            throw Error('missing function argument list');\n        }\n        expr = BinaryExpr.parse(lexer);\n        func.arg(expr);\n        if (lexer.peek() != ',') break;\n        lexer.next();\n    }\n    if (lexer.empty()) {\n        throw Error('unclosed function argument list');\n    }\n    if (lexer.next() != ')') {\n        lexer.back();\n        throw Error('bad token: ' + lexer.next());\n    }\n    return func\n};\n\nFunctionCall.prototype = new BaseExpr();\n\nFunctionCall.prototype.evaluate = function (ctx) {\n    return this.func.apply(ctx, this.args);\n};\n\nFunctionCall.prototype.arg = function(arg) {\n    this.args.push(arg);\n\n    if (arg.needContextPosition) {\n        this.needContextPosition = true;\n    }\n\n    var args = this.args;\n    if (arg.needContextNode) {\n        args.needContexNode = true;\n    }\n    this.needContextNode = args.needContextNode ||\n                            this.needContextNodeInfo[args.length];\n};\n\nFunctionCall.prototype.show = function(indent) {\n    indent = indent || '';\n    var t = '';\n    t += indent + 'function: ' + this.name + '\\n';\n    indent += '    ';\n\n    if (this.args.length) {\n        t += indent + 'arguments: ' + '\\n';\n        indent += '    ';\n        for (var i = 0; i < this.args.length; i ++) {\n            t += this.args[i].show(indent);\n        }\n    }\n\n    return t;\n};\n\n\n/*@cc_on @if (@_jscript)\nvar NodeWrapper = function(node, sourceIndex, subIndex, attributeName) {\n    this.node = node;\n    this.nodeType = node.nodeType;\n    this.sourceIndex = sourceIndex;\n    this.subIndex = subIndex;\n    this.attributeName = attributeName || '';\n    this.order = String.fromCharCode(sourceIndex) + String.fromCharCode(subIndex) + attributeName;\n};\n\nNodeWrapper.prototype.toString = function() {\n    return this.order;\n};\n@else @*/\nvar NodeID = {\n    uuid: 1,\n    get: function(node) {\n        return node.__jsxpath_id__ || (node.__jsxpath_id__ = this.uuid++);\n    }\n};\n/*@end @*/\n\nif (!window.NodeSet && window.defaultConfig)\n    window.NodeSet = null;\n    \nNodeSet = function() {\n    this.length = 0;\n    this.nodes = [];\n    this.seen = {};\n    this.idIndexMap = null;\n    this.reserveDels = [];\n};\n\nNodeSet.prototype.isNodeSet = true;\nNodeSet.prototype.isSorted = true;\n\n/*@_cc_on\nNodeSet.prototype.shortcut = true;\n@*/\n\nNodeSet.prototype.merge = function(nodeset) {\n    this.isSorted = false;\n    if (nodeset.only) {\n        return this.push(nodeset.only);\n    }\n\n    if (this.only){\n        var only = this.only;\n        delete this.only;\n        this.push(only);\n        this.length --;\n    }\n\n    var nodes = nodeset.nodes;\n    for (var i = 0, l = nodes.length; i < l; i ++) {\n        this._add(nodes[i]);\n    }\n};\n\nNodeSet.prototype.sort = function() {\n    if (this.only) return;\n    if (this.sortOff) return;\n\n    if (!this.isSorted) {\n        this.isSorted = true;\n        this.idIndexMap = null;\n\n/*@cc_on\n        if (this.shortcut) {\n            this.nodes.sort();\n        }\n        else {\n            this.nodes.sort(function(a, b) {\n                var result;\n                result = a.sourceIndex - b.sourceIndex;\n                if (result == 0)\n                    return a.subIndex - a.subIndex;\n                else\n                    return result;\n            });\n        }\n        return;\n@*/\n        var nodes = this.nodes;\n        nodes.sort(function(a, b) {\n            if (a == b) return 0;\n\n            if (a.compareDocumentPosition) {\n                var result = a.compareDocumentPosition(b);\n                if (result & 2) return 1;\n                if (result & 4) return -1;\n                return 0;\n            }\n            else {\n                var node1 = a, node2 = b, ancestor1 = a, ancestor2 = b, deep1 = 0, deep2 = 0;\n\n                while(ancestor1 = ancestor1.parentNode) deep1 ++;\n                while(ancestor2 = ancestor2.parentNode) deep2 ++;\n\n                // same deep\n                if (deep1 > deep2) {\n                    while (deep1-- != deep2) node1 = node1.parentNode;\n                    if (node1 == node2) return 1;\n                }\n                else if (deep2 > deep1) {\n                    while (deep2-- != deep1) node2 = node2.parentNode;\n                    if (node1 == node2) return -1;\n                }\n\n                while ((ancestor1 = node1.parentNode) != (ancestor2 = node2.parentNode)) {\n                    node1 = ancestor1;\n                    node2 = ancestor2;\n                }\n\n                // node1 is node2's sibling\n                while (node1 = node1.nextSibling) if (node1 == node2) return -1;\n\n                return 1;\n            }\n        });\n    }\n};\n\n\n/*@cc_on @if (@_jscript)\nNodeSet.prototype.sourceOffset = 1;\nNodeSet.prototype.subOffset = 2;\nNodeSet.prototype.createWrapper = function(node) {\n    var parent, child, attributes, attributesLength, sourceIndex, subIndex, attributeName;\n\n    sourceIndex = node.sourceIndex;\n\n    if (typeof sourceIndex != 'number') {\n        type = node.nodeType;\n        switch (type) {\n            case 2:\n                parent = node.parentNode;\n                sourceIndex = node.parentSourceIndex;\n                subIndex = -1;\n                attributeName = node.nodeName;\n                break;\n            case 9:\n                subIndex = -2;\n                sourceIndex = -1;\n                break;\n            default:\n                child = node;\n                subIndex = 0;\n                do {\n                    subIndex ++;\n                    sourceIndex = child.sourceIndex;\n                    if (sourceIndex) {\n                        parent = child;\n                        child = child.lastChild;\n                        if (!child) {\n                            child = parent;\n                            break;\n                        }\n                        subIndex ++;\n                    }\n                } while (child = child.previousSibling);\n                if (!sourceIndex) {\n                    sourceIndex = node.parentNode.sourceIndex;\n                }\n                break;\n        }\n    }\n    else {\n        subIndex = -2;\n    }\n\n    sourceIndex += this.sourceOffset;\n    subIndex += this.subOffset;\n\n    return new NodeWrapper(node, sourceIndex, subIndex, attributeName);\n};\n\nNodeSet.prototype.reserveDelBySourceIndexAndSubIndex = function(sourceIndex, subIndex, offset, reverse) {\n    var map = this.createIdIndexMap();\n    var index;\n    if ((map = map[sourceIndex]) && (index = map[subIndex])) {\n        if (reverse && (this.length - offset - 1) > index || !reverse && offset < index) {\n            var obj = {\n                value: index,\n                order: String.fromCharCode(index),\n                toString: function() { return this.order },\n                valueOf: function() { return this.value }\n            };\n            this.reserveDels.push(obj);\n        }\n    }\n};\n@else @*/\nNodeSet.prototype.reserveDelByNodeID = function(id, offset, reverse) {\n    var map = this.createIdIndexMap();\n    var index;\n    if (index = map[id]) {\n        if (reverse && (this.length - offset - 1) > index || !reverse && offset < index) {\n            var obj = {\n                value: index,\n                order: String.fromCharCode(index),\n                toString: function() { return this.order },\n                valueOf: function() { return this.value }\n            };\n            this.reserveDels.push(obj);\n        }\n    }\n};\n/*@end @*/\n\nNodeSet.prototype.reserveDelByNode = function(node, offset, reverse) {\n/*@cc_on @if (@_jscript)\n    node = this.createWrapper(node);\n    this.reserveDelBySourceIndexAndSubIndex(node.sourceIndex, node.subIndex, offset, reverse);\n@else @*/\n    this.reserveDelByNodeID(NodeID.get(node), offset, reverse);\n/*@end @*/\n};\n\nNodeSet.prototype.doDel = function() {\n    if (!this.reserveDels.length) return;\n\n    if (this.length < 0x10000) {\n        var dels = this.reserveDels.sort(function(a, b) { return b - a });\n    }\n    else {\n        var dels = this.reserveDels.sort(function(a, b) { return b - a });\n    }\n    for (var i = 0, l = dels.length; i < l; i ++) {\n        this.del(dels[i]);\n    }\n    this.reserveDels = [];\n    this.idIndexMap = null;\n};\n\nNodeSet.prototype.createIdIndexMap = function() {\n    if (this.idIndexMap) {\n        return this.idIndexMap;\n    }\n    else {\n        var map = this.idIndexMap = {};\n        var nodes = this.nodes;\n        for (var i = 0, l = nodes.length; i < l; i ++) {\n            var node = nodes[i];\n/*@cc_on @if (@_jscript)\n            var sourceIndex = node.sourceIndex;\n            var subIndex = node.subIndex;\n            if (!map[sourceIndex]) map[sourceIndex] = {};\n            map[sourceIndex][subIndex] = i;\n@else @*/\n            var id = NodeID.get(node);\n            map[id] = i;\n/*@end @*/\n        }\n        return map;\n    }\n};\n\nNodeSet.prototype.del = function(index) {\n    this.length --;\n    if (this.only) {\n        delete this.only;\n    }\n    else {  \n        var node = this.nodes.splice(index, 1)[0];\n\n        if (this._first == node) {\n            delete this._first;\n            delete this._firstSourceIndex;\n            delete this._firstSubIndex;\n        }\n\n/*@cc_on @if (@_jscript)\n        delete this.seen[node.sourceIndex][node.subIndex];\n@else @*/\n        delete this.seen[NodeID.get(node)];\n/*@end @*/\n    }\n};\n\n\nNodeSet.prototype.delDescendant = function(elm, offset) {\n    if (this.only) return;\n    var nodeType = elm.nodeType;\n    if (nodeType != 1 && nodeType != 9) return;\n    if (uai.applewebkit2) return;\n\n    // element || document\n    if (!elm.contains) {\n        if (nodeType == 1) {\n            var _elm = elm;\n            elm = {\n                contains: function(node) {\n                    return node.compareDocumentPosition(_elm) & 8;\n                }\n            };\n        }\n        else {\n            // document\n            elm = {\n                contains: function() {\n                    return true;\n                }\n            };\n        }\n    }\n\n    var nodes = this.nodes;\n    for (var i = offset + 1; i < nodes.length; i ++) {\n\n/*@cc_on @if (@_jscript)\n        if (nodes[i].node.nodeType == 1 && elm.contains(nodes[i].node)) {\n@else @*/\n        if (elm.contains(nodes[i])) {\n/*@end @*/\n            this.del(i);\n            i --;\n        }\n    }\n};\n\nNodeSet.prototype._add = function(node, reverse) {\n\n/*@cc_on @if (@_jscript)\n\n    var first, firstSourceIndex, firstSubIndex, sourceIndex, subIndex, attributeName;\n\n    sourceIndex = node.sourceIndex;\n    subIndex = node.subIndex;\n    attributeName = node.attributeName;\n    seen = this.seen;\n\n    seen = seen[sourceIndex] || (seen[sourceIndex] = {});\n\n    if (node.nodeType == 2) {\n        seen = seen[subIndex] || (seen[subIndex] = {});\n        if (seen[attributeName]) {\n            return true;\n        }\n        seen[attributeName] = true;\n    }\n    else {\n        if (seen[subIndex]) {\n            return true;\n        }\n        seen[subIndex] = true;\n    }\n\n    if (sourceIndex >= 0x10000 || subIndex >= 0x10000) {\n        this.shortcut = false;\n    }\n\n    // if this._first is undefined and this.nodes is not empty\n    // then first node shortcut is disabled.\n    if (this._first || this.nodes.length == 0) {\n        first = this._first;\n        firstSourceIndex = this._firstSourceIndex;\n        firstSubIndex = this._firstSubIndex;\n        if (!first || firstSourceIndex > sourceIndex || (firstSourceIndex == sourceIndex && firstSubIndex > subIndex)) {\n            this._first = node;\n            this._firstSourceIndex = sourceIndex;\n            this._firstSubIndex = subIndex\n        }\n    }\n\n@else @*/\n\n    var seen = this.seen;\n    var id = NodeID.get(node);\n    if (seen[id]) return true;\n    seen[id] = true;\n\n/*@end @*/\n\n    this.length++;\n    if (reverse) \n        this.nodes.unshift(node);\n    else\n        this.nodes.push(node);\n};\n\n\nNodeSet.prototype.unshift = function(node) {\n    if (!this.length) {\n        this.length ++;\n        this.only = node;\n        return\n    }\n    if (this.only){\n        var only = this.only;\n        delete this.only;\n        this.unshift(only);\n        this.length --;\n    }\n/*@cc_on\n    node = this.createWrapper(node);\n@*/\n    return this._add(node, true);\n};\n\n\nNodeSet.prototype.push = function(node) {\n    if (!this.length) {\n        this.length ++;\n        this.only = node;\n        return;\n    }\n    if (this.only) {\n        var only = this.only;\n        delete this.only;\n        this.push(only);\n        this.length --;\n    }\n/*@cc_on\n    node = this.createWrapper(node);\n@*/\n    return this._add(node);\n};\n\nNodeSet.prototype.first = function() {\n    if (this.only) return this.only;\n/*@cc_on\n    if (this._first) return this._first.node;\n    if (this.nodes.length > 1) this.sort();\n    var node = this.nodes[0];\n    return node ? node.node : undefined;\n@*/\n    if (this.nodes.length > 1) this.sort();\n    return this.nodes[0];\n};\n\nNodeSet.prototype.list = function() {\n    if (this.only) return [this.only];\n    this.sort();\n/*@cc_on\n    var i, l, nodes, results;\n    nodes = this.nodes;\n    results = [];\n    for (i = 0, l = nodes.length; i < l; i ++) {\n        results.push(nodes[i].node);\n    }\n    return results;\n@*/\n    return this.nodes;\n};\n\nNodeSet.prototype.string = function() {\n    var node = this.only || this.first();\n    return node ? NodeUtil.to('string', node) : '';\n};\n\nNodeSet.prototype.bool = function() {\n    return !! (this.length || this.only);\n};\n\nNodeSet.prototype.number = function() {\n    return + this.string();\n};\n\nNodeSet.prototype.iterator = function(reverse) {\n    this.sort();\n    var nodeset = this;\n\n    if (!reverse) {\n        var count = 0;\n        return function() {\n            if (nodeset.only && count++ == 0) return nodeset.only;\n/*@cc_on @if(@_jscript)\n            var wrapper = nodeset.nodes[count++];\n            if (wrapper) return wrapper.node;\n            return undefined;\n@else @*/\n            return nodeset.nodes[count++];\n/*@end @*/\n        };\n    }\n    else {\n        var count = 0;\n        return function() {\n            var index = nodeset.length - (count++) - 1;\n            if (nodeset.only && index == 0) return nodeset.only;\n/*@cc_on @if(@_jscript)\n            var wrapper = nodeset.nodes[index];\n            if (wrapper) return wrapper.node;\n            return undefined;\n@else @*/\n            return nodeset.nodes[index];\n/*@end @*/\n        };\n    }\n};\n\n\nvar install = function(win) {\n\n    win = win || this;\n    var doc = win.document;\n    var undefined = win.undefined;\n\n    win.XPathExpression = function(expr) {\n        if (!expr.length) {\n            throw win.Error('no expression');\n        }\n        var lexer = this.lexer = Lexer(expr);\n        if (lexer.empty()) {\n            throw win.Error('no expression');\n        }\n        this.expr = BinaryExpr.parse(lexer);\n        if (!lexer.empty()) {\n            throw win.Error('bad token: ' + lexer.next());\n        }\n    };\n    \n    win.XPathExpression.prototype.evaluate = function(node, type) {\n        return new win.XPathResult(this.expr.evaluate(new Ctx(node)), type);\n    };\n    \n    win.XPathResult = function (value, type) {\n        if (type == 0) {\n            switch (typeof value) {\n                case 'object':  type ++; // 4\n                case 'boolean': type ++; // 3\n                case 'string':  type ++; // 2\n                case 'number':  type ++; // 1\n            }\n        }\n    \n        this.resultType = type;\n    \n        switch (type) {\n            case 1:\n                this.numberValue = value.isNodeSet ? value.number() : +value;\n                return;\n            case 2:\n                this.stringValue = value.isNodeSet ? value.string() : '' + value;\n                return;\n            case 3:\n                this.booleanValue = value.isNodeSet ? value.bool() : !! value;\n                return;\n            case 4: case 5: case 6: case 7:\n                this.nodes = value.list();\n                this.snapshotLength = value.length;\n                this.index = 0;\n                this.invalidIteratorState = false;\n                break;\n            case 8: case 9:\n                this.singleNodeValue = value.first();\n                return;\n        }\n    };\n    \n    win.XPathResult.prototype.iterateNext = function() { return this.nodes[this.index++] };\n    win.XPathResult.prototype.snapshotItem = function(i) { return this.nodes[i] };\n    \n    win.XPathResult.ANY_TYPE = 0;\n    win.XPathResult.NUMBER_TYPE = 1;\n    win.XPathResult.STRING_TYPE = 2;\n    win.XPathResult.BOOLEAN_TYPE = 3;\n    win.XPathResult.UNORDERED_NODE_ITERATOR_TYPE = 4;\n    win.XPathResult.ORDERED_NODE_ITERATOR_TYPE = 5;\n    win.XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE = 6;\n    win.XPathResult.ORDERED_NODE_SNAPSHOT_TYPE = 7;\n    win.XPathResult.ANY_UNORDERED_NODE_TYPE = 8;\n    win.XPathResult.FIRST_ORDERED_NODE_TYPE = 9;\n    \n    \n    doc.createExpression = function(expr) {\n        return new win.XPathExpression(expr, null);\n    };\n    \n    doc.evaluate = function(expr, context, _, type) {\n        return doc.createExpression(expr, null).evaluate(context, type);\n    };\n};\n\nvar win;\n\nif (config.targetFrame) {\n    var frame = document.getElementById(config.targetFrame);\n    if (frame) win = frame.contentWindow;\n}\n\nif (config.exportInstaller) {\n    window.install = install;\n}\n\nif (!config.hasNative || !config.useNative) {\n    install(win || window);\n}\n\n\n})();\n\n// Thanks for reading this source code. We love JavaScript.\n\n","/*!\n * Bootstrap v3.0.3 (http://getbootstrap.com)\n * Copyright 2013 Twitter, Inc.\n * Licensed under http://www.apache.org/licenses/LICENSE-2.0\n */\n\nif(\"undefined\"==typeof jQuery)throw new Error(\"Bootstrap requires jQuery\");+function(a){\"use strict\";function b(){var a=document.createElement(\"bootstrap\"),b={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd otransitionend\",transition:\"transitionend\"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]}}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(jQuery),+function(a){\"use strict\";var b='[data-dismiss=\"alert\"]',c=function(c){a(c).on(\"click\",b,this.close)};c.prototype.close=function(b){function c(){f.trigger(\"closed.bs.alert\").remove()}var d=a(this),e=d.attr(\"data-target\");e||(e=d.attr(\"href\"),e=e&&e.replace(/.*(?=#[^\\s]*$)/,\"\"));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass(\"alert\")?d:d.parent()),f.trigger(b=a.Event(\"close.bs.alert\")),b.isDefaultPrevented()||(f.removeClass(\"in\"),a.support.transition&&f.hasClass(\"fade\")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data(\"bs.alert\");e||d.data(\"bs.alert\",e=new c(this)),\"string\"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on(\"click.bs.alert.data-api\",b,c.prototype.close)}(jQuery),+function(a){\"use strict\";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d)};b.DEFAULTS={loadingText:\"loading...\"},b.prototype.setState=function(a){var b=\"disabled\",c=this.$element,d=c.is(\"input\")?\"val\":\"html\",e=c.data();a+=\"Text\",e.resetText||c.data(\"resetText\",c[d]()),c[d](e[a]||this.options[a]),setTimeout(function(){\"loadingText\"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle=\"buttons\"]'),b=!0;if(a.length){var c=this.$element.find(\"input\");\"radio\"===c.prop(\"type\")&&(c.prop(\"checked\")&&this.$element.hasClass(\"active\")?b=!1:a.find(\".active\").removeClass(\"active\")),b&&c.prop(\"checked\",!this.$element.hasClass(\"active\")).trigger(\"change\")}b&&this.$element.toggleClass(\"active\")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data(\"bs.button\"),f=\"object\"==typeof c&&c;e||d.data(\"bs.button\",e=new b(this,f)),\"toggle\"==c?e.toggle():c&&e.setState(c)})},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on(\"click.bs.button.data-api\",\"[data-toggle^=button]\",function(b){var c=a(b.target);c.hasClass(\"btn\")||(c=c.closest(\".btn\")),c.button(\"toggle\"),b.preventDefault()})}(jQuery),+function(a){\"use strict\";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(\".carousel-indicators\"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,\"hover\"==this.options.pause&&this.$element.on(\"mouseenter\",a.proxy(this.pause,this)).on(\"mouseleave\",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:\"hover\",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(\".item.active\"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one(\"slid.bs.carousel\",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?\"next\":\"prev\",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(\".next, .prev\").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){return this.sliding?void 0:this.slide(\"next\")},b.prototype.prev=function(){return this.sliding?void 0:this.slide(\"prev\")},b.prototype.slide=function(b,c){var d=this.$element.find(\".item.active\"),e=c||d[b](),f=this.interval,g=\"next\"==b?\"left\":\"right\",h=\"next\"==b?\"first\":\"last\",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(\".item\")[h]()}this.sliding=!0,f&&this.pause();var j=a.Event(\"slide.bs.carousel\",{relatedTarget:e[0],direction:g});if(!e.hasClass(\"active\")){if(this.$indicators.length&&(this.$indicators.find(\".active\").removeClass(\"active\"),this.$element.one(\"slid.bs.carousel\",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass(\"active\")})),a.support.transition&&this.$element.hasClass(\"slide\")){if(this.$element.trigger(j),j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(\" \")).addClass(\"active\"),d.removeClass([\"active\",g].join(\" \")),i.sliding=!1,setTimeout(function(){i.$element.trigger(\"slid.bs.carousel\")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(j),j.isDefaultPrevented())return;d.removeClass(\"active\"),e.addClass(\"active\"),this.sliding=!1,this.$element.trigger(\"slid.bs.carousel\")}return f&&this.cycle(),this}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data(\"bs.carousel\"),f=a.extend({},b.DEFAULTS,d.data(),\"object\"==typeof c&&c),g=\"string\"==typeof c?c:f.slide;e||d.data(\"bs.carousel\",e=new b(this,f)),\"number\"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on(\"click.bs.carousel.data-api\",\"[data-slide], [data-slide-to]\",function(b){var c,d=a(this),e=a(d.attr(\"data-target\")||(c=d.attr(\"href\"))&&c.replace(/.*(?=#[^\\s]+$)/,\"\")),f=a.extend({},e.data(),d.data()),g=d.attr(\"data-slide-to\");g&&(f.interval=!1),e.carousel(f),(g=d.attr(\"data-slide-to\"))&&e.data(\"bs.carousel\").to(g),b.preventDefault()}),a(window).on(\"load\",function(){a('[data-ride=\"carousel\"]').each(function(){var b=a(this);b.carousel(b.data())})})}(jQuery),+function(a){\"use strict\";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass(\"width\");return a?\"width\":\"height\"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass(\"in\")){var b=a.Event(\"show.bs.collapse\");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find(\"> .panel > .in\");if(c&&c.length){var d=c.data(\"bs.collapse\");if(d&&d.transitioning)return;c.collapse(\"hide\"),d||c.data(\"bs.collapse\",null)}var e=this.dimension();this.$element.removeClass(\"collapse\").addClass(\"collapsing\")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass(\"collapsing\").addClass(\"in\")[e](\"auto\"),this.transitioning=0,this.$element.trigger(\"shown.bs.collapse\")};if(!a.support.transition)return f.call(this);var g=a.camelCase([\"scroll\",e].join(\"-\"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass(\"in\")){var b=a.Event(\"hide.bs.collapse\");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass(\"collapsing\").removeClass(\"collapse\").removeClass(\"in\"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger(\"hidden.bs.collapse\").removeClass(\"collapsing\").addClass(\"collapse\")};return a.support.transition?(this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350),void 0):d.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass(\"in\")?\"hide\":\"show\"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data(\"bs.collapse\"),f=a.extend({},b.DEFAULTS,d.data(),\"object\"==typeof c&&c);e||d.data(\"bs.collapse\",e=new b(this,f)),\"string\"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on(\"click.bs.collapse.data-api\",\"[data-toggle=collapse]\",function(b){var c,d=a(this),e=d.attr(\"data-target\")||b.preventDefault()||(c=d.attr(\"href\"))&&c.replace(/.*(?=#[^\\s]+$)/,\"\"),f=a(e),g=f.data(\"bs.collapse\"),h=g?\"toggle\":d.data(),i=d.attr(\"data-parent\"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-toggle=collapse][data-parent=\"'+i+'\"]').not(d).addClass(\"collapsed\"),d[f.hasClass(\"in\")?\"addClass\":\"removeClass\"](\"collapsed\")),f.collapse(h)})}(jQuery),+function(a){\"use strict\";function b(){a(d).remove(),a(e).each(function(b){var d=c(a(this));d.hasClass(\"open\")&&(d.trigger(b=a.Event(\"hide.bs.dropdown\")),b.isDefaultPrevented()||d.removeClass(\"open\").trigger(\"hidden.bs.dropdown\"))})}function c(b){var c=b.attr(\"data-target\");c||(c=b.attr(\"href\"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\\s]*$)/,\"\"));var d=c&&a(c);return d&&d.length?d:b.parent()}var d=\".dropdown-backdrop\",e=\"[data-toggle=dropdown]\",f=function(b){a(b).on(\"click.bs.dropdown\",this.toggle)};f.prototype.toggle=function(d){var e=a(this);if(!e.is(\".disabled, :disabled\")){var f=c(e),g=f.hasClass(\"open\");if(b(),!g){if(\"ontouchstart\"in document.documentElement&&!f.closest(\".navbar-nav\").length&&a('<div class=\"dropdown-backdrop\"/>').insertAfter(a(this)).on(\"click\",b),f.trigger(d=a.Event(\"show.bs.dropdown\")),d.isDefaultPrevented())return;f.toggleClass(\"open\").trigger(\"shown.bs.dropdown\"),e.focus()}return!1}},f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(\".disabled, :disabled\")){var f=c(d),g=f.hasClass(\"open\");if(!g||g&&27==b.keyCode)return 27==b.which&&f.find(e).focus(),d.click();var h=a(\"[role=menu] li:not(.divider):visible a\",f);if(h.length){var i=h.index(h.filter(\":focus\"));38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<h.length-1&&i++,~i||(i=0),h.eq(i).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data(\"bs.dropdown\");d||c.data(\"bs.dropdown\",d=new f(this)),\"string\"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=f,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on(\"click.bs.dropdown.data-api\",b).on(\"click.bs.dropdown.data-api\",\".dropdown form\",function(a){a.stopPropagation()}).on(\"click.bs.dropdown.data-api\",e,f.prototype.toggle).on(\"keydown.bs.dropdown.data-api\",e+\", [role=menu]\",f.prototype.keydown)}(jQuery),+function(a){\"use strict\";var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?\"hide\":\"show\"](a)},b.prototype.show=function(b){var c=this,d=a.Event(\"show.bs.modal\",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on(\"click.dismiss.modal\",'[data-dismiss=\"modal\"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass(\"fade\");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show(),d&&c.$element[0].offsetWidth,c.$element.addClass(\"in\").attr(\"aria-hidden\",!1),c.enforceFocus();var e=a.Event(\"shown.bs.modal\",{relatedTarget:b});d?c.$element.find(\".modal-dialog\").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event(\"hide.bs.modal\"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off(\"focusin.bs.modal\"),this.$element.removeClass(\"in\").attr(\"aria-hidden\",!0).off(\"click.dismiss.modal\"),a.support.transition&&this.$element.hasClass(\"fade\")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off(\"focusin.bs.modal\").on(\"focusin.bs.modal\",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on(\"keyup.dismiss.bs.modal\",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off(\"keyup.dismiss.bs.modal\")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger(\"hidden.bs.modal\")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass(\"fade\")?\"fade\":\"\";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class=\"modal-backdrop '+c+'\" />').appendTo(document.body),this.$element.on(\"click.dismiss.modal\",a.proxy(function(a){a.target===a.currentTarget&&(\"static\"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass(\"in\"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass(\"in\"),a.support.transition&&this.$element.hasClass(\"fade\")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data(\"bs.modal\"),g=a.extend({},b.DEFAULTS,e.data(),\"object\"==typeof c&&c);f||e.data(\"bs.modal\",f=new b(this,g)),\"string\"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on(\"click.bs.modal.data-api\",'[data-toggle=\"modal\"]',function(b){var c=a(this),d=c.attr(\"href\"),e=a(c.attr(\"data-target\")||d&&d.replace(/.*(?=#[^\\s]+$)/,\"\")),f=e.data(\"modal\")?\"toggle\":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f,this).one(\"hide\",function(){c.is(\":visible\")&&c.focus()})}),a(document).on(\"show.bs.modal\",\".modal\",function(){a(document.body).addClass(\"modal-open\")}).on(\"hidden.bs.modal\",\".modal\",function(){a(document.body).removeClass(\"modal-open\")})}(jQuery),+function(a){\"use strict\";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init(\"tooltip\",a,b)};b.DEFAULTS={animation:!0,placement:\"top\",selector:!1,template:'<div class=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',trigger:\"hover focus\",title:\"\",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(\" \"),f=e.length;f--;){var g=e[f];if(\"click\"==g)this.$element.on(\"click.\"+this.type,this.options.selector,a.proxy(this.toggle,this));else if(\"manual\"!=g){var h=\"hover\"==g?\"mouseenter\":\"focus\",i=\"hover\"==g?\"mouseleave\":\"blur\";this.$element.on(h+\".\"+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+\".\"+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:\"manual\",selector:\"\"}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&\"number\"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data(\"bs.\"+this.type);return clearTimeout(c.timeout),c.hoverState=\"in\",c.options.delay&&c.options.delay.show?(c.timeout=setTimeout(function(){\"in\"==c.hoverState&&c.show()},c.options.delay.show),void 0):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data(\"bs.\"+this.type);return clearTimeout(c.timeout),c.hoverState=\"out\",c.options.delay&&c.options.delay.hide?(c.timeout=setTimeout(function(){\"out\"==c.hoverState&&c.hide()},c.options.delay.hide),void 0):c.hide()},b.prototype.show=function(){var b=a.Event(\"show.bs.\"+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(b),b.isDefaultPrevented())return;var c=this.tip();this.setContent(),this.options.animation&&c.addClass(\"fade\");var d=\"function\"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,e=/\\s?auto?\\s?/i,f=e.test(d);f&&(d=d.replace(e,\"\")||\"top\"),c.detach().css({top:0,left:0,display:\"block\"}).addClass(d),this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);var g=this.getPosition(),h=c[0].offsetWidth,i=c[0].offsetHeight;if(f){var j=this.$element.parent(),k=d,l=document.documentElement.scrollTop||document.body.scrollTop,m=\"body\"==this.options.container?window.innerWidth:j.outerWidth(),n=\"body\"==this.options.container?window.innerHeight:j.outerHeight(),o=\"body\"==this.options.container?0:j.offset().left;d=\"bottom\"==d&&g.top+g.height+i-l>n?\"top\":\"top\"==d&&g.top-l-i<0?\"bottom\":\"right\"==d&&g.right+h>m?\"left\":\"left\"==d&&g.left-h<o?\"right\":d,c.removeClass(k).addClass(d)}var p=this.getCalculatedOffset(d,g,h,i);this.applyPlacement(p,d),this.$element.trigger(\"shown.bs.\"+this.type)}},b.prototype.applyPlacement=function(a,b){var c,d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css(\"margin-top\"),10),h=parseInt(d.css(\"margin-left\"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),a.top=a.top+g,a.left=a.left+h,d.offset(a).addClass(\"in\");var i=d[0].offsetWidth,j=d[0].offsetHeight;if(\"top\"==b&&j!=f&&(c=!0,a.top=a.top+f-j),/bottom|top/.test(b)){var k=0;a.left<0&&(k=-2*a.left,a.left=0,d.offset(a),i=d[0].offsetWidth,j=d[0].offsetHeight),this.replaceArrow(k-e+i,i,\"left\")}else this.replaceArrow(j-f,j,\"top\");c&&d.offset(a)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+\"%\":\"\")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(\".tooltip-inner\")[this.options.html?\"html\":\"text\"](b),a.removeClass(\"fade in top bottom left right\")},b.prototype.hide=function(){function b(){\"in\"!=c.hoverState&&d.detach()}var c=this,d=this.tip(),e=a.Event(\"hide.bs.\"+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass(\"in\"),a.support.transition&&this.$tip.hasClass(\"fade\")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.$element.trigger(\"hidden.bs.\"+this.type),this)},b.prototype.fixTitle=function(){var a=this.$element;(a.attr(\"title\")||\"string\"!=typeof a.attr(\"data-original-title\"))&&a.attr(\"data-original-title\",a.attr(\"title\")||\"\").attr(\"title\",\"\")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},\"function\"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return\"bottom\"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:\"top\"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:\"left\"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr(\"data-original-title\")||(\"function\"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(\".tooltip-arrow\")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data(\"bs.\"+this.type):this;c.tip().hasClass(\"in\")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){this.hide().$element.off(\".\"+this.type).removeData(\"bs.\"+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data(\"bs.tooltip\"),f=\"object\"==typeof c&&c;e||d.data(\"bs.tooltip\",e=new b(this,f)),\"string\"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(jQuery),+function(a){\"use strict\";var b=function(a,b){this.init(\"popover\",a,b)};if(!a.fn.tooltip)throw new Error(\"Popover requires tooltip.js\");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:\"right\",trigger:\"click\",content:\"\",template:'<div class=\"popover\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(\".popover-title\")[this.options.html?\"html\":\"text\"](b),a.find(\".popover-content\")[this.options.html?\"html\":\"text\"](c),a.removeClass(\"fade top bottom left right in\"),a.find(\".popover-title\").html()||a.find(\".popover-title\").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr(\"data-content\")||(\"function\"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(\".arrow\")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data(\"bs.popover\"),f=\"object\"==typeof c&&c;e||d.data(\"bs.popover\",e=new b(this,f)),\"string\"==typeof c&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(jQuery),+function(a){\"use strict\";function b(c,d){var e,f=a.proxy(this.process,this);this.$element=a(c).is(\"body\")?a(window):a(c),this.$body=a(\"body\"),this.$scrollElement=this.$element.on(\"scroll.bs.scroll-spy.data-api\",f),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||(e=a(c).attr(\"href\"))&&e.replace(/.*(?=#[^\\s]+$)/,\"\")||\"\")+\" .nav li > a\",this.offsets=a([]),this.targets=a([]),this.activeTarget=null,this.refresh(),this.process()}b.DEFAULTS={offset:10},b.prototype.refresh=function(){var b=this.$element[0]==window?\"offset\":\"position\";this.offsets=a([]),this.targets=a([]);var c=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data(\"target\")||d.attr(\"href\"),f=/^#\\w/.test(e)&&a(e);return f&&f.length&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parents(\".active\").removeClass(\"active\");var c=this.selector+'[data-target=\"'+b+'\"],'+this.selector+'[href=\"'+b+'\"]',d=a(c).parents(\"li\").addClass(\"active\");d.parent(\".dropdown-menu\").length&&(d=d.closest(\"li.dropdown\").addClass(\"active\")),d.trigger(\"activate.bs.scrollspy\")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data(\"bs.scrollspy\"),f=\"object\"==typeof c&&c;e||d.data(\"bs.scrollspy\",e=new b(this,f)),\"string\"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on(\"load\",function(){a('[data-spy=\"scroll\"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(jQuery),+function(a){\"use strict\";var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest(\"ul:not(.dropdown-menu)\"),d=b.data(\"target\");if(d||(d=b.attr(\"href\"),d=d&&d.replace(/.*(?=#[^\\s]*$)/,\"\")),!b.parent(\"li\").hasClass(\"active\")){var e=c.find(\".active:last a\")[0],f=a.Event(\"show.bs.tab\",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent(\"li\"),c),this.activate(g,g.parent(),function(){b.trigger({type:\"shown.bs.tab\",relatedTarget:e})})}}},b.prototype.activate=function(b,c,d){function e(){f.removeClass(\"active\").find(\"> .dropdown-menu > .active\").removeClass(\"active\"),b.addClass(\"active\"),g?(b[0].offsetWidth,b.addClass(\"in\")):b.removeClass(\"fade\"),b.parent(\".dropdown-menu\")&&b.closest(\"li.dropdown\").addClass(\"active\"),d&&d()}var f=c.find(\"> .active\"),g=d&&a.support.transition&&f.hasClass(\"fade\");g?f.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),f.removeClass(\"in\")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data(\"bs.tab\");e||d.data(\"bs.tab\",e=new b(this)),\"string\"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on(\"click.bs.tab.data-api\",'[data-toggle=\"tab\"], [data-toggle=\"pill\"]',function(b){b.preventDefault(),a(this).tab(\"show\")})}(jQuery),+function(a){\"use strict\";var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on(\"scroll.bs.affix.data-api\",a.proxy(this.checkPosition,this)).on(\"click.bs.affix.data-api\",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=null,this.checkPosition()};b.RESET=\"affix affix-top affix-bottom\",b.DEFAULTS={offset:0},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(\":visible\")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;\"object\"!=typeof f&&(h=g=f),\"function\"==typeof g&&(g=f.top()),\"function\"==typeof h&&(h=f.bottom());var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=c-h?\"bottom\":null!=g&&g>=d?\"top\":!1;this.affixed!==i&&(this.unpin&&this.$element.css(\"top\",\"\"),this.affixed=i,this.unpin=\"bottom\"==i?e.top-d:null,this.$element.removeClass(b.RESET).addClass(\"affix\"+(i?\"-\"+i:\"\")),\"bottom\"==i&&this.$element.offset({top:document.body.offsetHeight-h-this.$element.height()}))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data(\"bs.affix\"),f=\"object\"==typeof c&&c;e||d.data(\"bs.affix\",e=new b(this,f)),\"string\"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on(\"load\",function(){a('[data-spy=\"affix\"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(jQuery);","(function() {\n  var WebSocket = window.WebSocket || window.MozWebSocket;\n  var br = window.brunch = (window.brunch || {});\n  var ar = br['auto-reload'] = (br['auto-reload'] || {});\n  if (!WebSocket || ar.disabled) return;\n\n  var cacheBuster = function(url){\n    var date = Math.round(Date.now() / 1000).toString();\n    url = url.replace(/(\\&|\\\\?)cacheBuster=\\d*/, '');\n    return url + (url.indexOf('?') >= 0 ? '&' : '?') +'cacheBuster=' + date;\n  };\n\n  var reloaders = {\n    page: function(){\n      window.location.reload(true);\n    },\n\n    stylesheet: function(){\n      [].slice\n        .call(document.querySelectorAll('link[rel=\"stylesheet\"]'))\n        .filter(function(link){\n          return (link != null && link.href != null);\n        })\n        .forEach(function(link) {\n          link.href = cacheBuster(link.href);\n        });\n    }\n  };\n  var port = ar.port || 9485;\n  var host = (!br['server']) ? window.location.hostname : br['server'];\n  var connect = function(){\n    var connection = new WebSocket('ws://' + host + ':' + port);\n    connection.onmessage = function(event){\n      var message = event.data;\n      if (ar.disabled) return;\n      if (reloaders[message] != null) {\n        reloaders[message]();\n      } else {\n        reloaders.page();\n      }\n    };\n    connection.onerror = function(){\n      if (connection.readyState) connection.close();\n    };\n    connection.onclose = function(){\n      window.setTimeout(connect, 1000);\n    };\n  };\n  connect();\n})();\n","(function(e){if(\"function\"==typeof bootstrap)bootstrap(\"jade\",e);else if(\"object\"==typeof exports)module.exports=e();else if(\"function\"==typeof define&&define.amd)define(e);else if(\"undefined\"!=typeof ses){if(!ses.ok())return;ses.makeJade=e}else\"undefined\"!=typeof window?window.jade=e():global.jade=e()})(function(){var define,ses,bootstrap,module,exports;\nreturn (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\n/*!\n * Jade - runtime\n * Copyright(c) 2010 TJ Holowaychuk <tj@vision-media.ca>\n * MIT Licensed\n */\n\n/**\n * Lame Array.isArray() polyfill for now.\n */\n\nif (!Array.isArray) {\n  Array.isArray = function(arr){\n    return '[object Array]' == Object.prototype.toString.call(arr);\n  };\n}\n\n/**\n * Lame Object.keys() polyfill for now.\n */\n\nif (!Object.keys) {\n  Object.keys = function(obj){\n    var arr = [];\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        arr.push(key);\n      }\n    }\n    return arr;\n  }\n}\n\n/**\n * Merge two attribute objects giving precedence\n * to values in object `b`. Classes are special-cased\n * allowing for arrays and merging/joining appropriately\n * resulting in a string.\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Object} a\n * @api private\n */\n\nexports.merge = function merge(a, b) {\n  var ac = a['class'];\n  var bc = b['class'];\n\n  if (ac || bc) {\n    ac = ac || [];\n    bc = bc || [];\n    if (!Array.isArray(ac)) ac = [ac];\n    if (!Array.isArray(bc)) bc = [bc];\n    a['class'] = ac.concat(bc).filter(nulls);\n  }\n\n  for (var key in b) {\n    if (key != 'class') {\n      a[key] = b[key];\n    }\n  }\n\n  return a;\n};\n\n/**\n * Filter null `val`s.\n *\n * @param {*} val\n * @return {Boolean}\n * @api private\n */\n\nfunction nulls(val) {\n  return val != null && val !== '';\n}\n\n/**\n * join array as classes.\n *\n * @param {*} val\n * @return {String}\n * @api private\n */\n\nfunction joinClasses(val) {\n  return Array.isArray(val) ? val.map(joinClasses).filter(nulls).join(' ') : val;\n}\n\n/**\n * Render the given attributes object.\n *\n * @param {Object} obj\n * @param {Object} escaped\n * @return {String}\n * @api private\n */\n\nexports.attrs = function attrs(obj, escaped){\n  var buf = []\n    , terse = obj.terse;\n\n  delete obj.terse;\n  var keys = Object.keys(obj)\n    , len = keys.length;\n\n  if (len) {\n    buf.push('');\n    for (var i = 0; i < len; ++i) {\n      var key = keys[i]\n        , val = obj[key];\n\n      if ('boolean' == typeof val || null == val) {\n        if (val) {\n          terse\n            ? buf.push(key)\n            : buf.push(key + '=\"' + key + '\"');\n        }\n      } else if (0 == key.indexOf('data') && 'string' != typeof val) {\n        buf.push(key + \"='\" + JSON.stringify(val) + \"'\");\n      } else if ('class' == key) {\n        if (escaped && escaped[key]){\n          if (val = exports.escape(joinClasses(val))) {\n            buf.push(key + '=\"' + val + '\"');\n          }\n        } else {\n          if (val = joinClasses(val)) {\n            buf.push(key + '=\"' + val + '\"');\n          }\n        }\n      } else if (escaped && escaped[key]) {\n        buf.push(key + '=\"' + exports.escape(val) + '\"');\n      } else {\n        buf.push(key + '=\"' + val + '\"');\n      }\n    }\n  }\n\n  return buf.join(' ');\n};\n\n/**\n * Escape the given string of `html`.\n *\n * @param {String} html\n * @return {String}\n * @api private\n */\n\nexports.escape = function escape(html){\n  return String(html)\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;');\n};\n\n/**\n * Re-throw the given `err` in context to the\n * the jade in `filename` at the given `lineno`.\n *\n * @param {Error} err\n * @param {String} filename\n * @param {String} lineno\n * @api private\n */\n\nexports.rethrow = function rethrow(err, filename, lineno, str){\n  if (!(err instanceof Error)) throw err;\n  if ((typeof window != 'undefined' || !filename) && !str) {\n    err.message += ' on line ' + lineno;\n    throw err;\n  }\n  try {\n    str =  str || require('fs').readFileSync(filename, 'utf8')\n  } catch (ex) {\n    rethrow(err, null, lineno)\n  }\n  var context = 3\n    , lines = str.split('\\n')\n    , start = Math.max(lineno - context, 0)\n    , end = Math.min(lines.length, lineno + context);\n\n  // Error context\n  var context = lines.slice(start, end).map(function(line, i){\n    var curr = i + start + 1;\n    return (curr == lineno ? '  > ' : '    ')\n      + curr\n      + '| '\n      + line;\n  }).join('\\n');\n\n  // Alter exception message\n  err.path = filename;\n  err.message = (filename || 'Jade') + ':' + lineno\n    + '\\n' + context + '\\n\\n' + err.message;\n  throw err;\n};\n\n},{\"fs\":2}],2:[function(require,module,exports){\n// nothing to see here... no file methods for the browser\n\n},{}]},{},[1])(1)\n});\n;\n"]}
>>>>>>> 8afa2402a82bbc5890c93c606e3ec8f0db207d76
